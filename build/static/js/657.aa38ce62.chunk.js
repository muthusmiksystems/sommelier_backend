"use strict";(self.webpackChunksommelier=self.webpackChunksommelier||[]).push([[657],{9657:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var s=a(9950),r=a(2920),o=a(5664),l=a(8341),i=a(756),n=a(7810),c=a(4414);class d extends s.Component{constructor(){super(...arguments),this.state={delivery_charges:0,distance:0,tips:0,couponAppliedAmount:0},this.calculateDynamicDeliveryCharge=()=>{const{restaurant_info:e}=this.props,t=this.state.distance;if(console.log("Distance from user to restaurant: "+t+" km"),t>e.base_delivery_distance){const a=t-e.base_delivery_distance;console.log("Extra Distance: "+a+" km");const s=a/e.extra_delivery_distance*e.extra_delivery_charge;console.log("Extra Charge: "+s);let r=parseFloat(e.base_delivery_charge)+parseFloat(s);console.log("Total Charge: "+r),"true"===localStorage.getItem("enDelChrRnd")&&(r=Math.ceil(r)),this.setState({delivery_charges:r})}else this.setState({delivery_charges:e.base_delivery_charge})},this.getTotalAfterCalculation=()=>{const{total:e,restaurant_info:t,coupon:a,tips:s}=this.props;let r=0;if(a.code)if("PERCENTAGE"===a.discount_type){let s=(0,i.$)(a.discount/100*parseFloat(e));a.max_discount&&parseFloat(s)>=a.max_discount&&(s=a.max_discount),this.props.couponApplied(a,s);new Promise((e=>{localStorage.setItem("couponAppliedAmount",s),e("Saved")})).then((()=>{this.checkAndSetAppliedAmount()})),r=(0,i.$)((0,i.$)(parseFloat(e)-s+parseFloat(t.restaurant_charges||0)+parseFloat(this.state.delivery_charges||0)))}else r=(0,i.$)(parseFloat(e)-(parseFloat(a.discount)||0)+((parseFloat(t.restaurant_charges)||0)+(parseFloat(this.state.delivery_charges)||0)));else r=(0,i.$)(parseFloat(e)+parseFloat(t.restaurant_charges||0)+parseFloat(this.state.delivery_charges||0));return"true"===localStorage.getItem("taxApplicable")&&(r=(0,i.$)(parseFloat(parseFloat(r)+parseFloat(parseFloat(localStorage.getItem("taxPercentage"))/100)*r))),s.value>0&&(r=parseFloat(r)+parseFloat(s.value)),(0,i.$)(r)},this.checkAndSetAppliedAmount=()=>{let e="";e="left"===localStorage.getItem("currencySymbolAlign")?"("+localStorage.getItem("currencyFormat")+localStorage.getItem("couponAppliedAmount")+")":"("+localStorage.getItem("couponAppliedAmount")+localStorage.getItem("currencyFormat")+")",this.refs.appliedAmount&&(this.refs.appliedAmount.innerHTML=e)}}componentDidMount(){"SELFPICKUP"===localStorage.getItem("userSelected")?this.setState({delivery_charges:0}):parseFloat(this.props.restaurant_info.free_delivery_subtotal)>0&&parseFloat(this.props.total)>=parseFloat(this.props.restaurant_info.free_delivery_subtotal)?(console.log("Free Delivery \ud83d\ude0d"),this.setState({delivery_charges:0})):this.setState({delivery_charges:this.props.restaurant_info.delivery_charges})}componentWillReceiveProps(e){"DELIVERY"!==localStorage.getItem("userSelected")||(this.props.restaurant_info.delivery_charges!==e.restaurant_info.delivery_charges&&this.setState({delivery_charges:e.restaurant_info.delivery_charges}),this.props.total===e.total||"DYNAMIC"===e.restaurant_info.delivery_charge_type)?"DELIVERY"===localStorage.getItem("userSelected")&&("DYNAMIC"===e.restaurant_info.delivery_charge_type?this.setState({distance:e.distance},(()=>{parseFloat(e.restaurant_info.free_delivery_subtotal)>0&&parseFloat(e.total)>=parseFloat(e.restaurant_info.free_delivery_subtotal)?(console.log("Free Delivery \ud83d\ude0d"),this.setState({delivery_charges:0})):this.calculateDynamicDeliveryCharge()})):this.setState({distance:e.distance})):parseFloat(e.restaurant_info.free_delivery_subtotal)>0&&parseFloat(e.total)>=parseFloat(e.restaurant_info.free_delivery_subtotal)?(console.log("Free Delivery \ud83d\ude0d"),this.setState({delivery_charges:0})):this.setState({delivery_charges:e.restaurant_info.delivery_charges})}render(){const{total:e,restaurant_info:t,coupon:a,tips:r,removeTip:o}=this.props;return(0,c.jsx)(s.Fragment,{children:(0,c.jsx)("div",{className:"px-15",children:(0,c.jsx)("div",{className:"bg-white bill-details mb-200 ".concat(!this.props.alreadyRunningOrders&&"border-radius-4px"),children:(0,c.jsxs)("div",{className:"p-15",children:[(0,c.jsx)("h2",{className:"bill-detail-text m-0",children:localStorage.getItem("cartBillDetailsText")}),(0,c.jsxs)("div",{className:"display-flex",children:[(0,c.jsx)("div",{className:"flex-auto",children:localStorage.getItem("cartItemTotalText")}),(0,c.jsxs)("div",{className:"flex-auto text-right",children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),(0,i.$)(e),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]}),(0,c.jsx)("hr",{}),a.code&&(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)("div",{className:"display-flex",children:[(0,c.jsx)("div",{className:"flex-auto coupon-text",children:localStorage.getItem("cartCouponText")}),(0,c.jsxs)("div",{className:"flex-auto text-right coupon-text",children:[(0,c.jsx)("span",{children:"-"}),"PERCENTAGE"===a.discount_type?(0,c.jsxs)(s.Fragment,{children:[a.discount,"%"," ",(0,c.jsx)("span",{className:"coupon-appliedAmount",ref:"appliedAmount",children:this.checkAndSetAppliedAmount()})]}):(0,c.jsxs)(s.Fragment,{children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")+a.discount,"right"===localStorage.getItem("currencySymbolAlign")&&a.discount+localStorage.getItem("currencyFormat")]})]})]}),(0,c.jsx)("hr",{})]}),"0.00"===t.restaurant_charges||null===t.restaurant_charges?null:(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)("div",{className:"display-flex",children:[(0,c.jsx)("div",{className:"flex-auto",children:localStorage.getItem("cartRestaurantCharges")}),(0,c.jsxs)("div",{className:"flex-auto text-right",children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),t.restaurant_charges,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]}),(0,c.jsx)("hr",{})]}),0===this.state.delivery_charges?(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)("div",{className:"display-flex",children:[(0,c.jsx)("div",{className:"flex-auto",children:localStorage.getItem("cartDeliveryCharges")}),(0,c.jsxs)("div",{className:"flex-auto text-right",children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),"0","right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]}),(0,c.jsx)("hr",{})]}):(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)("div",{className:"display-flex",children:[(0,c.jsxs)("div",{className:"flex-auto",children:[localStorage.getItem("cartDeliveryCharges")," ",(0,c.jsxs)("span",{className:"cart-delivery-distance",children:["(",parseFloat(this.state.distance).toFixed(1),"km)"]}),this.props.restaurant_info.free_delivery_subtotal>0&&this.state.delivery_charges>0&&(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("br",{}),(0,c.jsxs)("div",{class:"freeDeliveryMessageBlock",children:[localStorage.getItem("freeDeliveryPrefixText")," ",(0,c.jsxs)("b",{children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),parseFloat(this.props.restaurant_info.free_delivery_subtotal)-parseFloat(this.props.total),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})," ",localStorage.getItem("freeDeliverySuffixText")]})]})]}),(0,c.jsxs)("div",{className:"flex-auto text-right",children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),(0,i.$)(this.state.delivery_charges),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]}),(0,c.jsx)("hr",{})]}),"true"===localStorage.getItem("taxApplicable")&&(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)("div",{className:"display-flex",children:[(0,c.jsx)("div",{className:"flex-auto text-danger",children:localStorage.getItem("taxText")}),(0,c.jsxs)("div",{className:"flex-auto text-right text-danger",children:[(0,c.jsx)("span",{children:"+"}),localStorage.getItem("taxPercentage"),"%"]})]}),(0,c.jsx)("hr",{})]}),0!==r.value&&(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)("div",{className:"display-flex",children:[(0,c.jsx)("div",{className:"flex-auto",children:localStorage.getItem("tipText")}),(0,c.jsxs)("div",{className:"flex-auto text-right",children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),(0,i.$)(r.value),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),(0,c.jsx)("br",{}),(0,c.jsx)("span",{onClick:o,children:(0,c.jsx)("u",{children:localStorage.getItem("cartRemoveTipText")})})]})]}),(0,c.jsx)("hr",{})]}),(0,c.jsxs)("div",{className:"display-flex",children:[(0,c.jsx)("div",{className:"flex-auto font-w700",children:localStorage.getItem("cartToPayText")}),(0,c.jsxs)("div",{className:"flex-auto text-right font-w700",children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.getTotalAfterCalculation(),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]}),"SELFPICKUP"===localStorage.getItem("userSelected")&&(0,c.jsx)("p",{className:"my-2 mt-3 text-danger font-weight-bold",children:localStorage.getItem("selectedSelfPickupMessage")})]})})})})}}const g=(0,l.Ng)((e=>({coupon:e.coupon.coupon,restaurant_info:e.items.restaurant_info})),{couponApplied:n.CW})(d);var p=a(1580),u=a.n(p),m=a(6088),h=a(4520),y=a(8566),S=a(2780);class x extends s.Component{constructor(){super(...arguments),this.state={process_cart_loading:!1},this.processCart=()=>{const{handleProcessCartLoading:e,checkCartItemsAvailability:t,cartProducts:a,addProduct:s,updateCart:r,checkConfirmCart:o,handleItemsAvailability:l}=this.props;e(!0),t(a).then((t=>{if(e(!1),this.setState({process_cart_loading:!1}),t&&t.length){let e=!1;t.map((t=>{let r=a.find((e=>e.id===t.id));return r.is_active=t.is_active,r.price=t.price,s(r),e||t.is_active||(e=!0),r})),e?(r(this.props.cartProducts),l(!1)):(r(this.props.cartProducts),o(),this.context.router.history.push("/checkout"))}}))},this.gotoNewAddressPage=()=>{new Promise((e=>{localStorage.setItem("fromCart",1),e("Saved")})).then((()=>{this.context.router.history.push("/search-location")}))},this.gotoMyAddressPage=()=>{localStorage.setItem("fromCart",1),this.context.router.history.push("/my-addresses")},this.gotoLoginPage=()=>{localStorage.setItem("fromCartToLogin",1),this.context.router.history.push("/login")}}componentDidMount(){}componentWillReceiveProps(e){e.checkout!==this.props.checkout&&this.context.router.history.push("/running-order")}render(){const{user:e}=this.props;return(0,c.jsx)(s.Fragment,{children:(0,c.jsx)("div",{className:"bg-white cart-checkout-block",style:{height:e.success&&"SELFPICKUP"===localStorage.getItem("userSelected")?"auto":"22vh"},children:e.success?null==e.data.default_address?(0,c.jsxs)(s.Fragment,{children:["SELFPICKUP"===localStorage.getItem("userSelected")&&(0,c.jsx)("div",{style:{marginTop:"1.6rem"},children:(0,c.jsxs)("div",{onClick:this.processCart,className:"btn btn-lg btn-make-payment",style:{backgroundColor:localStorage.getItem("cartColorBg"),color:localStorage.getItem("cartColorText"),position:"relative"},children:[localStorage.getItem("checkoutSelectPayment"),(0,c.jsx)(u(),{duration:400})]})}),"DELIVERY"===localStorage.getItem("userSelected")&&(0,c.jsxs)("div",{className:"p-15",children:[(0,c.jsx)("h2",{className:"almost-there-text m-0 pb-5",children:localStorage.getItem("cartSetYourAddress")}),(0,c.jsxs)("button",{onClick:this.gotoNewAddressPage,className:"btn btn-lg btn-continue",style:{position:"relative",backgroundColor:localStorage.getItem("storeColor")},children:[localStorage.getItem("buttonNewAddress"),(0,c.jsx)(u(),{duration:500})]})]})]}):(0,c.jsxs)(s.Fragment,{children:[("DELIVERY"===localStorage.getItem("userSelected")||null===localStorage.getItem("userSelected"))&&(0,c.jsx)(s.Fragment,{children:(0,c.jsxs)("div",{className:"px-15 py-10",children:[(0,c.jsxs)("button",{onClick:this.gotoMyAddressPage,className:"change-address-text m-0 p-5 pull-right",style:{color:localStorage.getItem("storeColor")},children:[localStorage.getItem("cartChangeLocation"),(0,c.jsx)(u(),{duration:400})]}),(0,c.jsx)("h2",{className:"deliver-to-text m-0 pl-0 pb-5",children:localStorage.getItem("cartDeliverTo")}),(0,c.jsxs)("div",{className:"user-address truncate-text m-0 pt-10",children:[e.data.default_address.address,null!==e.data.default_address.house&&(0,c.jsx)("p",{className:"truncate-text",children:e.data.default_address.house})]})]})}),(0,c.jsx)(s.Fragment,{children:this.props.is_operational?(0,c.jsx)("div",{style:{marginTop:"1.6rem"},children:(0,c.jsxs)("div",{onClick:this.processCart,className:"btn btn-lg btn-make-payment",style:{backgroundColor:localStorage.getItem("cartColorBg"),color:localStorage.getItem("cartColorText"),position:"relative"},children:[localStorage.getItem("checkoutSelectPayment"),(0,c.jsx)(u(),{duration:400})]})}):(0,c.jsx)("div",{className:"auth-error bg-danger",children:(0,c.jsx)("div",{className:"error-shake",children:localStorage.getItem("cartRestaurantNotOperational")})})})]}):(0,c.jsxs)("div",{className:"p-15",children:[(0,c.jsx)("h2",{className:"almost-there-text m-0 pb-5",children:localStorage.getItem("cartLoginHeader")}),(0,c.jsx)("span",{className:"almost-there-sub text-muted",children:localStorage.getItem("cartLoginSubHeader")}),(0,c.jsxs)("button",{onClick:this.gotoLoginPage,className:"btn btn-lg btn-continue",style:{backgroundColor:localStorage.getItem("storeColor"),position:"relative"},children:[localStorage.getItem("cartLoginButtonText"),(0,c.jsx)(u(),{duration:500})]})]})})})}}x.contextTypes={router:()=>null};const v=(0,l.Ng)((e=>({user:e.user.user,addresses:e.addresses.addresses,cartProducts:e.cart.products,cartTotal:e.total.data,coupon:e.coupon.coupon,checkout:e.checkout.checkout,restaurant:e.restaurant})),{placeOrder:h.w,checkConfirmCart:m.v,checkCartItemsAvailability:m.g,addProduct:y.Bj,updateCart:S.i})(x);class f extends s.Component{constructor(){super(...arguments),this._getItemTotal=e=>{let t=0,a=0;return e.selectedaddons&&e.selectedaddons.map((e=>(t+=parseFloat(e.price),t))),a+=e.price*e.quantity+t*e.quantity,a=parseFloat(a),"left"===localStorage.getItem("currencySymbolAlign")?localStorage.getItem("currencyFormat")+(0,i.$)(a):(0,i.$)(a)+localStorage.getItem("currencyFormat")},this._generateKey=e=>{let t="".concat(e,"_").concat((new Date).getTime(),"_").concat(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15));return console.log(t),t}}render(){const{addProductQuantity:e,removeProductQuantity:t,item:a,removeProduct:r}=this.props;return(0,c.jsx)(s.Fragment,{children:(0,c.jsxs)("div",{className:"cart-item-meta pt-15 pb-15 align-items-center",children:[(0,c.jsxs)("div",{className:"cart-item-name",children:["true"===localStorage.getItem("showVegNonVegBadge")&&null!==a.is_veg&&(0,c.jsx)(s.Fragment,{children:a.is_veg?(0,c.jsx)("img",{src:"/assets/img/various/veg-icon-bg.png",alt:"Veg",style:{width:"1rem"},className:"mr-1"}):(0,c.jsx)("img",{src:"/assets/img/various/non-veg-icon-bg.png",alt:"Non-Veg",style:{width:"1rem"},className:"mr-1"})}),(0,c.jsx)("span",{className:"".concat(!a.is_active&&"text-danger"),children:(0,c.jsxs)("strong",{children:[" ",a.name]})}),a.selectedaddons&&(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("br",{}),a.selectedaddons.map(((e,t)=>(0,c.jsx)(s.Fragment,{children:"true"===localStorage.getItem("showAddonPricesOnCart")?(0,c.jsx)("span",{style:{color:"#adadad",fontSize:"0.8rem"},children:(0,c.jsx)("p",{className:"p-0 m-0",children:e.addon_name+"- "+localStorage.getItem("currencyFormat")+e.price})}):(0,c.jsx)("span",{style:{color:"#adadad",fontSize:"0.8rem"},children:(t?", ":"")+e.addon_name})},a.id+e.addon_id)))]})]}),a.is_active?(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)("div",{className:"btn-group btn-group-sm cart-item-btn",children:[(0,c.jsxs)("button",{type:"button",className:"btn btn-add-remove",style:{color:localStorage.getItem("cartColor-bg")},onClick:()=>t(a),children:[(0,c.jsx)("span",{className:"btn-dec",children:1===a.quantity?(0,c.jsx)("i",{className:"si si-trash",style:{fontSize:"0.8rem",top:"-0.2rem",WebkitTextStroke:"0.4px #f44336",color:"#f44336"}}):"-"}),(0,c.jsx)(u(),{duration:"500"})]}),(0,c.jsx)("button",{type:"button",className:"btn btn-quantity",children:a.quantity}),(0,c.jsxs)("button",{type:"button",className:"btn btn-add-remove",style:{color:localStorage.getItem("cartColor-bg")},onClick:()=>e(a),children:[(0,c.jsx)("span",{className:"btn-inc",children:"+"}),(0,c.jsx)(u(),{duration:"500"})]})]}),(0,c.jsx)("div",{className:"cart-item-price",children:(0,c.jsx)(s.Fragment,{children:this._getItemTotal(a)})})]}):(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("button",{type:"button",className:"btn btn-add-remove text-danger",style:{color:localStorage.getItem("cartColor-bg"),minWidth:"132.05px"},onClick:()=>{r(a)},children:localStorage.getItem("cartRemoveItemButton")}),(0,c.jsx)("div",{className:"cart-item-price text-danger",children:localStorage.getItem("cartItemNotAvailable")})]})]})})}}const b=(0,l.Ng)((e=>({cartProducts:e.cart.products,cartTotal:e.total.data})),{})(f);class j extends s.Component{constructor(){super(...arguments),this.state={inputCoupon:"",couponFailed:!1,couponFailedType:"",couponSubtotalMessage:""},this.handleInput=e=>{this.setState({inputCoupon:e.target.value})},this.handleSubmit=e=>{e.preventDefault();const{user:t}=this.props,a=t.success?this.props.user.data.auth_token:null;this.props.applyCoupon(a,this.state.inputCoupon,this.props.restaurant_info.id,this.props.subtotal)}}componentDidMount(){localStorage.getItem("appliedCoupon")&&this.setState({inputCoupon:localStorage.getItem("appliedCoupon")},(()=>{this.refs.couponInput.defaultValue=localStorage.getItem("appliedCoupon");const{user:e}=this.props,t=e.success?this.props.user.data.auth_token:null;this.props.applyCoupon(t,localStorage.getItem("appliedCoupon"),this.props.restaurant_info.id,this.props.subtotal)}))}componentWillReceiveProps(e){const{coupon:t}=this.props;t!==e.coupon&&(e.coupon.success?(console.log("SUCCESS COUPON"),localStorage.setItem("appliedCoupon",e.coupon.code),this.setState({couponFailed:!1})):(console.log("COUPON Removed"),console.log("FAILED COUPON"),localStorage.removeItem("appliedCoupon"),this.setState({couponFailed:!e.coupon.hideMessage,couponFailedType:e.coupon.type,couponSubtotalMessage:e.coupon.message})))}componentWillUnmount(){}render(){const{coupon:e,user:t}=this.props;return(0,c.jsx)(s.Fragment,{children:(0,c.jsxs)("div",{className:"input-group px-15 pb-15",children:[(0,c.jsx)("form",{className:"coupon-form ".concat(!t.success&&"coupon-block-not-loggedin"),onSubmit:this.handleSubmit,children:(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("div",{className:"input-group-prepend",children:(0,c.jsx)("button",{className:"btn apply-coupon-btn",children:(0,c.jsx)("i",{className:"si si-tag"})})}),(0,c.jsx)("input",{type:"text",className:"form-control apply-coupon-input",placeholder:localStorage.getItem("cartCouponText"),onChange:this.handleInput,style:{color:localStorage.getItem("storeColor")},spellCheck:"false",ref:"couponInput"}),(0,c.jsx)("div",{className:"input-group-append",children:(0,c.jsxs)("button",{type:"submit",className:"btn apply-coupon-btn",onClick:this.handleSubmit,children:[(0,c.jsx)("span",{style:{backgroundColor:localStorage.getItem("cartColorBg"),color:localStorage.getItem("cartColorText")},children:localStorage.getItem("applyCouponButtonText")}),(0,c.jsx)(u(),{duration:"500"})]})})]})}),(0,c.jsxs)("div",{className:"coupon-status",children:[e.code&&(0,c.jsx)("div",{className:"coupon-success pt-10 pb-10",children:"true"===localStorage.getItem("showCouponDescriptionOnSuccess")?(0,c.jsx)(s.Fragment,{children:e.description}):(0,c.jsxs)(s.Fragment,{children:['"'+e.code+'"'," ",localStorage.getItem("cartApplyCoupon")," ","PERCENTAGE"===e.discount_type?e.discount+"%":(0,c.jsxs)(s.Fragment,{children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")+e.discount,"right"===localStorage.getItem("currencySymbolAlign")&&e.discount+localStorage.getItem("currencyFormat")," ",localStorage.getItem("cartCouponOffText")]})]})}),this.state.couponFailed&&("MINSUBTOTAL"===this.state.couponFailedType?(0,c.jsx)("div",{className:"coupon-fail pt-10 pb-10",children:this.state.couponSubtotalMessage}):(0,c.jsx)("div",{className:"coupon-fail pt-10 pb-10",children:localStorage.getItem("cartInvalidCoupon")})),!t.success&&(0,c.jsxs)("div",{className:"coupon-not-loggedin-message pt-10 pb-10",children:[(0,c.jsx)("i",{className:"si si-info mr-2"}),localStorage.getItem("couponNotLoggedin")]})]})]})})}}const _=(0,l.Ng)((e=>({coupon:e.coupon.coupon,restaurant_info:e.items.restaurant_info,user:e.user.user})),{applyCoupon:n.VY})(j);var I=a(3507),N=a(9097),C=a(2515);class A extends s.Component{constructor(){super(...arguments),this.state={comment:""},this.handleInput=e=>{this.setState({comment:e.target.value}),localStorage.setItem("orderComment",e.target.value)}}componentDidMount(){this.setState({comment:localStorage.getItem("orderComment")})}render(){return(0,c.jsx)(s.Fragment,{children:(0,c.jsx)("textarea",{className:"form-control order-comment",type:"text",placeholder:localStorage.getItem("cartSuggestionPlaceholder"),onChange:this.handleInput,value:this.state.comment||"",rows:"1"})})}}const F=A;var k=a(8429),T=a(8858),w=a(8854),P=a(4385),D=a.n(P);class O extends s.Component{constructor(){super(...arguments),this.state={open:!1,isHomeDelivery:!0},this.handlePopup=()=>{this.setState({open:!this.state.open})},this.setDeliveryType=e=>{this.setState({isHomeDelivery:"delivery"===e},(()=>{this.state.isHomeDelivery?(this.setState({userPreferredSelectionDelivery:!0,userPreferredSelectionSelfPickup:!1}),localStorage.setItem("userPreferredSelection","DELIVERY"),localStorage.setItem("userSelected","DELIVERY")):this.state.isHomeDelivery||(this.setState({userPreferredSelectionSelfPickup:!0,userPreferredSelectionDelivery:!1}),localStorage.setItem("userPreferredSelection","SELFPICKUP"),localStorage.setItem("userSelected","SELFPICKUP")),setTimeout((()=>{this.setState({open:!this.state.open}),window.location.reload()}),500)}))},this.displaySliderForDeliveryType=()=>(0,c.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,c.jsxs)("div",{onClick:()=>{this.setDeliveryType("delivery")},className:"position-relative cart-delivery-type-img mr-30",style:{filter:"DELIVERY"===localStorage.getItem("userSelected")?"grayscale(0)":"grayscale(1)"},children:[(0,c.jsxs)(D(),{left:!0,duration:350,children:[(0,c.jsx)("img",{src:"assets/img/various/home-delivery.png",className:"img-fluid",alt:localStorage.getItem("deliveryTypeDelivery")}),(0,c.jsx)("p",{className:"text-center font-weight-bold text-muted mb-0 mt-1",children:localStorage.getItem("deliveryTypeDelivery")})]}),(0,c.jsx)(u(),{duration:"500"})]}),(0,c.jsxs)("div",{onClick:()=>{this.setDeliveryType("selfpickup")},className:"position-relative cart-delivery-type-img",style:{filter:"SELFPICKUP"===localStorage.getItem("userSelected")?"grayscale(0)":"grayscale(1)"},children:[(0,c.jsxs)(D(),{right:!0,duration:350,children:[(0,c.jsx)("img",{src:"assets/img/various/self-pickup.png",className:"img-fluid",alt:localStorage.getItem("deliveryTypeSelfPickup")}),(0,c.jsx)("p",{className:"text-center font-weight-bold text-muted mb-0 mt-1",children:localStorage.getItem("deliveryTypeSelfPickup")})]}),(0,c.jsx)(u(),{duration:"500"})]})]})}componentDidMount(){"false"===localStorage.getItem("enSPU")?this.setState({userPreferredSelectionDelivery:!0,isHomeDelivery:!0}):("DELIVERY"===localStorage.getItem("userSelected")&&this.setState({userPreferredSelectionDelivery:!0,isHomeDelivery:!0}),"SELFPICKUP"===localStorage.getItem("userSelected")&&this.setState({userPreferredSelectionSelfPickup:!0,isHomeDelivery:!1}))}render(){const{restaurant:e}=this.props;return(0,c.jsx)(s.Fragment,{children:(0,c.jsx)("div",{className:"bg-white",children:0===e.length?(0,c.jsxs)(T.Ay,{height:150,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb",children:[(0,c.jsx)("rect",{x:"20",y:"70",rx:"4",ry:"4",width:"80",height:"78"}),(0,c.jsx)("rect",{x:"144",y:"85",rx:"0",ry:"0",width:"115",height:"18"}),(0,c.jsx)("rect",{x:"144",y:"115",rx:"0",ry:"0",width:"165",height:"16"})]}):(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)("div",{className:"bg-light pb-10 d-flex store-info-cartpage",style:{paddingTop:"5rem"},children:[(0,c.jsx)("div",{className:"px-15 mt-5",children:(0,c.jsx)("img",{src:e.image,alt:e.name,className:"restaurant-image mt-0"})}),(0,c.jsxs)("div",{className:"mt-5 pb-15 w-100",children:[(0,c.jsx)("h4",{className:"font-w600 mb-5 text-dark",children:e.name}),(0,c.jsx)("div",{className:"font-size-sm text-muted truncate-text text-muted",children:e.description}),1===e.is_pureveg&&(0,c.jsxs)("p",{className:"mb-0",children:[(0,c.jsx)("span",{className:"font-size-sm pr-1 text-muted",children:localStorage.getItem("pureVegText")}),(0,c.jsx)("img",{src:"/assets/img/various/pure-veg.png",alt:"PureVeg",style:{width:"20px"}})]}),(0,c.jsxs)("div",{className:"text-center restaurant-meta mt-5 d-flex align-items-center justify-content-between text-muted",children:[(0,c.jsxs)("div",{className:"col-2 p-0 text-left store-rating-block",children:[(0,c.jsx)("i",{className:"fa fa-star",style:{color:localStorage.getItem("storeColor")}})," ","0"===e.avgRating?e.rating:e.avgRating]}),(0,c.jsxs)("div",{className:"col-4 p-0 text-center store-distance-block",children:[(0,c.jsx)("i",{className:"si si-clock"})," ",e.delivery_time," ",localStorage.getItem("homePageMinsText")]}),(0,c.jsxs)("div",{className:"col-6 p-0 text-center store-avgprice-block",children:[(0,c.jsx)("i",{className:"si si-wallet"})," ","left"===localStorage.getItem("currencySymbolAlign")&&(0,c.jsxs)(s.Fragment,{children:[localStorage.getItem("currencyFormat"),e.price_range," "]}),"right"===localStorage.getItem("currencySymbolAlign")&&(0,c.jsxs)(s.Fragment,{children:[e.price_range,localStorage.getItem("currencyFormat")," "]}),localStorage.getItem("homePageForTwoText")]})]})]})]}),"true"===localStorage.getItem("enSPU")&&3===e.delivery_type&&(0,c.jsxs)("div",{className:"px-15 py-1 bg-light",style:{fontSize:"12px"},children:[(0,c.jsx)("p",{className:"mb-0",children:localStorage.getItem("cartDeliveryTypeOptionAvailableText")}),(0,c.jsxs)("span",{className:"mr-1",children:[localStorage.getItem("cartDeliveryTypeSelectedText"),":"," "]}),(0,c.jsx)("span",{className:"font-weight-bold mr-1",style:{color:localStorage.getItem("storeColor")},children:"DELIVERY"===localStorage.getItem("userSelected")?localStorage.getItem("deliveryTypeDelivery"):localStorage.getItem("deliveryTypeSelfPickup")}),(0,c.jsxs)("span",{onClick:this.handlePopup,children:["(",(0,c.jsx)("u",{children:localStorage.getItem("cartDeliveryTypeChangeButtonText")}),")"]})]}),(0,c.jsx)(w.A,{fullWidth:!0,fullScreen:!1,open:this.state.open,onClose:this.handlePopup,style:{width:"100%",margin:"auto"},PaperProps:{style:{backgroundColor:"#fff",borderRadius:"4px"}},children:(0,c.jsx)("div",{className:"container",style:{borderRadius:"4px",height:"220px"},children:(0,c.jsxs)("div",{className:"col-12 pt-20 pb-30",children:[(0,c.jsx)("h1",{className:"mt-2 mb-0 font-weight-black h4 mb-30 text-center",children:localStorage.getItem("cartChooseDeliveryTypeTitle")}),this.displaySliderForDeliveryType()]})})})]})})})}}const M=O;var L=a(9107),R=a(2576),E=a(9666),B=a(7239),Y=a(5136);class J extends s.Component{render(){return(0,c.jsx)(s.Fragment,{children:(0,c.jsxs)("div",{className:"bg-white",children:[(0,c.jsx)("div",{className:"d-flex justify-content-center mt-100 mb-20",children:(0,c.jsx)("img",{className:"offline-mode-img text-center",src:"/assets/img/various/user-ban.png",alt:"user-ban"})}),"<p><br></p>"!==localStorage.getItem("userInActiveMessage")&&"null"!==localStorage.getItem("userInActiveMessage")&&""!==localStorage.getItem("userInActiveMessage")&&(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:localStorage.getItem("userInActiveMessage")}})]})})}}const V=J;var U=a(8482),W=a.n(U),$=a(9051),H=a.n($);class K extends s.Component{constructor(){super(...arguments),this.state={timeStops:[],time:[],day:"",slotsArray:[],days:[],sortedArray:[],open:!1,todayDate:null,selectedDate:null,slotsDays:[],selectedSlot:{}},this.getCurrentDay=e=>{let t;switch(e){case 0:t="sunday";break;case 1:t="monday";break;case 2:t="tuesday";break;case 3:t="wednesday";break;case 4:t="thursday";break;case 5:t="friday";break;case 6:t="saturday";break;default:t=""}return this.setState({day:t}),t},this.getCurrentWeek=()=>{let e=H()(),t=e.clone().startOf("isoWeek"),a=e.clone().endOf("isoWeek")+1,s=[],r=[];for(let l=0;l<=6;l++)s.push({day:H()(t).add(l,"days").format("dddd"),date:H()(t).add(l,"days").format("YYYY-MM-DD")}),r.push({day:H()(a).add(l,"days").format("dddd"),date:H()(a).add(l,"days").format("YYYY-MM-DD")});let o=[];for(let l=0;l<s.length;l++)H()(s[l].date).isSameOrAfter(H()(new Date).format("YYYY-MM-DD"))&&o.push(s[l]);if(parseInt(localStorage.getItem("orderSchedulingFutureDays"))>o.length){let e=o.concat(r).filter((e=>this.state.slotsDays.some((t=>e.day.toLowerCase()===t.days.toLowerCase()))));this.setState({days:e},(()=>{this.daysAvailable(this.state.days)}))}else{let e=o.filter((e=>this.state.slotsDays.some((t=>e.day.toLowerCase()===t.days.toLowerCase()))));this.setState({days:e},(()=>{this.daysAvailable(this.state.days)}))}},this.daysAvailable=()=>{if(this.state.days.length>0)if(this.state.days.sort(((e,t)=>new Date(e.date)-new Date(t.date))),"true"===localStorage.getItem("enFixedNumberOfDays")){let e=this.state.days.slice(0,parseInt(localStorage.getItem("orderSchedulingFutureDays")));if(e.length>0){let t=e.filter((e=>this.state.slotsDays.some((t=>e.day.toLowerCase()===t.days.toLowerCase()))));this.setState({sortedArray:t})}}else this.setState({sortedArray:this.state.days})},this.getSlots=(e,t,a)=>{let s=[];if(e&&e.length>0)for(let o=0;o<e.length;o++){let l=H()(),i=l.format().split("T")[0],n=l.format().split("+")[1];var r=H()(i+"T"+e[o].open+":00+"+n);let c=H()(i+"T"+e[o].close+":00+"+n),d=H().duration(c.diff(r)),g=Math.floor(2*d.asHours()),p="";for(let r=0;r<g;r++){0===r&&(p=e[o].open);let l=H()(p,"hh:mm A");l.add(t,a);let i={open:H()(p,"hh:mm A").format("hh:mm A"),close:l.format("hh:mm A")};s.push(i),p=l.format("HH:mm A").split(" ")[0]}}return this.setState({slotsArray:s}),s},this.setDay=e=>{this.setState({day:e.day,selectedDate:e.date,selectedSlot:{}});let t={day:e.day,date:e.date};if(localStorage.setItem("orderDate",JSON.stringify(t)),e.day!==this.state.day&&localStorage.removeItem("orderSlot"),e){let t=JSON.parse(this.props.restaurant.schedule_data)[this.getCurrentDay("sunday"===e.day.toLowerCase()?0:"monday"===e.day.toLowerCase()?1:"tuesday"===e.day.toLowerCase()?2:"wednesday"===e.day.toLowerCase()?3:"thursday"===e.day.toLowerCase()?4:"friday"===e.day.toLowerCase()?5:6)];this.getSlots(t,30,"m")}},this.toggleSchedulePopup=()=>{this.setState({open:!this.state.open})},this.chooseOrderSlot=e=>{if(null===localStorage.getItem("orderDate")){let e={day:this.state.day,date:H()(new Date).format("YYYY-MM-DD")};localStorage.setItem("orderDate",JSON.stringify(e))}localStorage.setItem("orderSlot",JSON.stringify(e)),this.setState({selectedSlot:e})},this.renderScheduleButton=()=>{const e=localStorage.getItem("orderDate"),t=localStorage.getItem("orderSlot");if(null===e||null===t)return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("i",{className:"si si-clock"}),(0,c.jsx)("span",{className:"ml-2",children:localStorage.getItem("modOSScheduleThisOrderText")})]});{const a=JSON.parse(e),r=JSON.parse(t);return(0,c.jsx)(s.Fragment,{children:(0,c.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:[localStorage.getItem("modOSScheduleForText")," ",a.day," ",(0,c.jsxs)("small",{className:"text-white",children:["(",a.date,")"]})," ",(0,c.jsx)("br",{}),"(",r.open," ","- ",r.close,")"]})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{className:"btn btn-sm",onClick:this.removeSelectedSchedule,children:localStorage.getItem("modOSRemoveBtnText")})})]})})}},this.removeSelectedSchedule=e=>{e.stopPropagation(),localStorage.removeItem("orderDate"),localStorage.removeItem("orderSlot"),this.setState({selectedDate:null,selectedSlot:{},slotsArray:[]})},this.renderDoneButton=()=>{const e=localStorage.getItem("orderDate"),t=localStorage.getItem("orderSlot");if(null!==e&&null!==t&&this.state.open)return(0,c.jsx)(s.Fragment,{children:(0,c.jsx)("button",{className:"btn btn-main",style:{color:localStorage.getItem("cartColorText"),backgroundColor:localStorage.getItem("cartColorBg"),position:"fixed",bottom:"0",zIndex:"9999999"},onClick:this.toggleSchedulePopup,children:localStorage.getItem("modOSDoneBtnText")})})},this.getFirstSlot=e=>{let t=H()(this.state.currentTime,"hh:mm A").add(this.props.restaurant.schedule_slot_buffer,"minutes"),a=H()(e.open,"hh:mm A");return!!t.isSameOrBefore(a)}}componentDidMount(){this.getCurrentDay(),JSON.parse(this.props.restaurant.schedule_data)&&this.getSlots(JSON.parse(this.props.restaurant.schedule_data)[this.getCurrentDay((new Date).getDay())],30,"m");let e=new Date;this.setState({todayDate:H()(new Date).format("YYYY-MM-DD"),currentTime:H()(e.getTime()).format("hh:mm A"),selectedDate:H()(new Date).format("YYYY-MM-DD")});let t=[];for(let a=0;a<Object.keys(JSON.parse(this.props.restaurant.schedule_data)).length;a++)t.push({days:Object.keys(JSON.parse(this.props.restaurant.schedule_data))[a]});this.setState({slotsDays:t},(()=>{this.getCurrentWeek()}))}render(){return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("div",{className:"schedule-order-btn p-10 mx-15 mt-2",onClick:this.toggleSchedulePopup,children:(0,c.jsx)(s.Fragment,{children:this.renderScheduleButton()})}),(0,c.jsx)(w.A,{maxWidth:!1,fullWidth:!0,fullScreen:!0,open:this.state.open,onClose:this.toggleSchedulePopup,style:{margin:"auto",position:"absolute",bottom:"0",top:"25%"},PaperProps:{style:{backgroundColor:"#fff",borderTopLeftRadius:"15px",borderTopRightRadius:"15px"}},children:(0,c.jsxs)("div",{className:"container p-0 m-0",style:{borderRadius:"5px"},children:[(0,c.jsx)("h3",{className:"text-center my-20",children:localStorage.getItem("modOSSelectDateTimeText")}),(0,c.jsx)("div",{className:"slider-wrapper secondary-slider-wrapper sticky-top my-0 mr-20",children:this.state.sortedArray.length>0&&(0,c.jsx)(s.Fragment,{children:this.state.sortedArray.map((e=>(0,c.jsx)("div",{className:"slider-wrapper__img-wrapper time-slots",style:{backgroundColor:this.state.day.toLowerCase()===e.day.toLowerCase()&&this.state.selectedDate===e.date?localStorage.getItem("cartColorBg"):"transparent",color:this.state.day.toLowerCase()===e.day.toLowerCase()&&this.state.selectedDate===e.date?localStorage.getItem("cartColorText"):"#000"},onClick:()=>this.setDay(e),children:e.date===this.state.todayDate?"Today":e.date===H()().clone().add(1,"days").format("YYYY-MM-DD")?"Tomorrow":H()(e.date).format("Do MMM")+" "+e.day.slice(0,3)},e.date)))})}),(0,c.jsx)("div",{className:"time-slots-holder",children:this.state.slotsArray.map(((e,t)=>(0,c.jsx)(s.Fragment,{children:this.state.todayDate===this.state.selectedDate?(0,c.jsx)(s.Fragment,{children:this.getFirstSlot(e)&&(0,c.jsxs)("div",{className:"available-time-slot-block",children:[(0,c.jsx)("span",{className:this.state.selectedSlot.open===e.open?"selected-slot":"",onClick:()=>this.chooseOrderSlot(e),children:e.open+" - "+e.close}),(0,c.jsx)("hr",{})]})}):(0,c.jsxs)("div",{className:"available-time-slot-block",children:[(0,c.jsx)("span",{className:this.state.selectedSlot.open===e.open?"selected-slot":"",onClick:()=>this.chooseOrderSlot(e),children:e.open+" - "+e.close}),(0,c.jsx)("hr",{})]})},t)))})]})}),this.renderDoneButton()]})}}const q=K;class z extends s.Component{constructor(){super(...arguments),this.state={loading:!0,alreadyRunningOrders:!1,is_operational_loading:!0,is_operational:!0,distance:0,is_active:!1,min_order_satisfied:!1,process_cart_loading:!1,is_all_items_available:!1,process_distance_calc_loading:!1,userBan:!1,tips:[],tips_percentage:[],tipsPercentageSetting:!1,tipsAmountSetting:!1,others:!1,percentage:!1,selectedTips:{type:"amount",value:0},is_tips_show:!0},this.fetchCheckBanAgain=e=>{this.props.checkBan(e).then((e=>{e&&(e.success?this.cartOperationalSteps():this.setState({userBan:!0,loading:!1}))}))},this.cartOperationalSteps=()=>{const{user:e}=this.props;this.setState({loading:!1}),this.props.cartProducts.length&&(document.getElementsByTagName("body")[0].classList.add("bg-grey"),this.checkForItemsAvailability()),e.success?(this.props.checkUserRunningOrder(e.data.id,e.data.auth_token),this.props.cartProducts.length>0&&this.props.updateUserInfo(e.data.id,e.data.auth_token).then((e=>{if("undefined"!==typeof e)if(null!==e.payload.data.default_address){const t={lat:e.payload.data.default_address.latitude,lng:e.payload.data.default_address.longitude,address:e.payload.data.default_address.address,house:e.payload.data.default_address.house,tag:e.payload.data.default_address.tag};new Promise((e=>{localStorage.setItem("userSetAddress",JSON.stringify(t)),e("Address Saved")})).then((()=>{this.initRestaurantInfoApi()}))}else this.initRestaurantInfoApi();else console.warn("Failed to fetch update user info... Solution: Reload Page")}))):(this.initRestaurantInfoApi(),this.setState({alreadyRunningOrders:!1}))},this.initRestaurantInfoApi=()=>{null!==localStorage.getItem("activeRestaurant")&&this.props.cartProducts.length>0&&this.props.getRestaurantInfoById(localStorage.getItem("activeRestaurant")).then((e=>{e&&e.payload.id&&this.__doesRestaurantOperatesAtThisLocation(e.payload)}))},this.addProductQuantity=e=>{const{cartProducts:t,updateCart:a}=this.props;let s=!1;t.forEach((t=>{t.id===e.id&&JSON.stringify(t.selectedaddons)===JSON.stringify(e.selectedaddons)&&(t.quantity+=1,s=!0)})),s||t.push(e),a(t)},this.removeProductQuantity=e=>{const{cartProducts:t,updateCart:a}=this.props,s=t.findIndex((t=>t.id===e.id&&JSON.stringify(t)===JSON.stringify(e)));s>=0&&(t.forEach((a=>{a.id===e.id&&JSON.stringify(a)===JSON.stringify(e)&&(1===a.quantity?t.splice(s,1):a.quantity-=1)})),a(t),this.props.removeCoupon())},this.removeProduct=e=>{const{cartProducts:t,updateCart:a}=this.props,s=t.findIndex((t=>t.id===e.id));t.splice(s,1),a(t),this.props.removeCoupon(),this.checkForItemsAvailability()},this.__doesRestaurantOperatesAtThisLocation=e=>{const{user:t}=this.props;if(t.success&&null!==t.data.default_address){let a=this,s=0;"true"===localStorage.getItem("enGDMA")?(this.setState({process_distance_calc_loading:!0}),s=(0,R.A)(e.longitude,e.latitude,t.data.default_address.longitude,t.data.default_address.latitude,this.props.google,(function(s){console.log("Distance:",s),a.setState({distance:s,process_distance_calc_loading:!1},a.__processRestaurantOperationalState(e.id,t.data.default_address.latitude,t.data.default_address.longitude))}))):(s=(0,L.g)(e.longitude,e.latitude,t.data.default_address.longitude,t.data.default_address.latitude),this.setState({distance:s},this.__processRestaurantOperationalState(e.id,t.data.default_address.latitude,t.data.default_address.longitude)))}else{let t=this,a=0;null!==localStorage.getItem("userSetAddress")?"true"===localStorage.getItem("enGDMA")?a=(0,R.A)(e.longitude,e.latitude,JSON.parse(localStorage.getItem("userSetAddress")).lng,JSON.parse(localStorage.getItem("userSetAddress")).lat,this.props.google,(function(a){console.log(a),t.setState({distance:a},t.__processRestaurantOperationalState(e.id,JSON.parse(localStorage.getItem("userSetAddress")).lat,JSON.parse(localStorage.getItem("userSetAddress")).lng))})):(a=(0,L.g)(e.longitude,e.latitude,JSON.parse(localStorage.getItem("userSetAddress")).lng,JSON.parse(localStorage.getItem("userSetAddress")).lat),this.setState({distance:a},this.__processRestaurantOperationalState(e.id,JSON.parse(localStorage.getItem("userSetAddress")).lat,JSON.parse(localStorage.getItem("userSetAddress")).lng))):this.setState({is_operational:!0,is_operational_loading:!1}),console.log("Distance -> ",this.state.distance)}},this.__processRestaurantOperationalState=(e,t,a)=>{this.props.getRestaurantInfoAndOperationalStatus(e,t,a).then((e=>{e&&(e.payload.is_operational?this.setState({is_operational:!0,is_operational_loading:!1}):this.setState({is_operational:!1,is_operational_loading:!1}))}))},this.__isRestaurantActive=e=>{e.is_active&&this.setState({is_active:!0})},this.__checkMinOrderSatisfied=(e,t)=>{if(e.min_order_price>0){parseFloat((0,i.$)(t.totalPrice))>=parseFloat((0,i.$)(e.min_order_price))?this.setState({min_order_satisfied:!0}):this.setState({min_order_satisfied:!1})}else this.setState({min_order_satisfied:!0})},this.checkForItemsAvailability=()=>{const{checkCartItemsAvailability:e,cartProducts:t,addProduct:a,updateCart:s}=this.props;this.handleProcessCartLoading(!0),e(t).then((e=>{if(this.handleProcessCartLoading(!1),this.setState({process_cart_loading:!1}),e&&e.length){let s=!1;e.map((e=>{let r=t.find((t=>t.id===e.id));return r.is_active=e.is_active,r.price=e.price,a(r),s||e.is_active||(s=!0),r})),s?this.handleItemsAvailability(!1):this.handleItemsAvailability(!0)}s(this.props.cartProducts)}))},this.handleProcessCartLoading=e=>{this.setState({process_cart_loading:e})},this.handleItemsAvailability=e=>{this.setState({is_all_items_available:e})},this.showOtherText=e=>{localStorage.setItem("cart_tips",JSON.stringify({type:e,value:0})),this.setState({others:"total"===e,percentage:"percentage"===e,selectedTips:{type:e,value:0}})},this.addTip=(e,t)=>{localStorage.setItem("cart_tips",JSON.stringify({type:e,value:t})),this.setState({others:!1,percentage:!1,selectedTips:{type:e,value:t}})},this.addTipInPercentage=(e,t)=>{let a=this.props.cartTotal.totalPrice*t/100;localStorage.setItem("cart_tips",JSON.stringify({type:e,value:a})),this.setState({others:!1,percentage:!1,selectedTips:{type:e,value:a}})},this.restrictAlphabates=e=>{let{value:t,min:a,max:s}=e.target;if(t=Math.max(Number(a),Math.min(Number(s),Number(t))),""===e.target.value||/^[0-9\b]+$/.test(e.target.value)){if("percentageValue"===e.target.name&&""!==t){let a=this.props.cartTotal.totalPrice*t/100;localStorage.setItem("cart_tips",JSON.stringify({type:"percentage",value:a})),this.setState({[e.target.name]:t,selectedTips:{type:e.target.name,value:a}})}"flatAmount"===e.target.name&&""!==t&&(localStorage.setItem("cart_tips",JSON.stringify({type:"total",value:t})),this.setState({[e.target.name]:t,selectedTips:{type:e.target.name,value:t}}))}this.setState({value:t})},this.removeTip=()=>{this.setState({others:!1,percentage:!1,selectedTips:{type:"amount",value:0}}),localStorage.removeItem("cart_tips"),this.setState({tipsAmountSetting:!1,tipsPercentageSetting:!1},(()=>{this.setState({tipsAmountSetting:JSON.parse(localStorage.getItem("showTipsAmount").toLowerCase()),tipsPercentageSetting:JSON.parse(localStorage.getItem("showTipsPercentage").toLowerCase())})}))}}componentDidMount(){localStorage.removeItem("cart_tips"),localStorage.removeItem("fromCart");const{user:e}=this.props;e.success?(this.props.checkBan(e.data.auth_token).then((t=>{t?t.success?this.cartOperationalSteps():this.setState({userBan:!0,loading:!1}):setTimeout((()=>{this.fetchCheckBanAgain(e.data.auth_token)}),2500)})),this.setState({tips:null!==localStorage.getItem("tips")&&localStorage.getItem("tips").split(","),tips_percentage:null!==localStorage.getItem("tips_percentage")&&localStorage.getItem("tips_percentage").split(","),tipsAmountSetting:null!==localStorage.getItem("showTipsAmount")&&JSON.parse(localStorage.getItem("showTipsAmount").toLowerCase()),tipsPercentageSetting:null!==localStorage.getItem("showTipsPercentage")&&JSON.parse(localStorage.getItem("showTipsPercentage").toLowerCase())}),"SELFPICKUP"===localStorage.getItem("userSelected")?this.setState({is_tips_show:!0}):this.setState({is_tips_show:!1})):this.cartOperationalSteps()}componentWillReceiveProps(e){e.restaurant_info.id&&(this.__isRestaurantActive(e.restaurant_info),this.__checkMinOrderSatisfied(e.restaurant_info,e.cartTotal)),e.running_order&&this.setState({alreadyRunningOrders:!0}),e.force_reload&&(this.setState({loading:!0}),window.location.reload())}componentWillUnmount(){document.getElementsByTagName("body")[0].classList.remove("bg-grey"),this.props.confirmCart||localStorage.removeItem("cart_tips")}render(){if(this.state.userBan)return(0,c.jsx)(V,{});if(window.innerWidth>768)return(0,c.jsx)(k.C5,{to:"/"});this.props.cartProducts.length||document.getElementsByTagName("body")[0].classList.remove("bg-grey");const{cartTotal:e,cartProducts:t,restaurant_info:a,user:r}=this.props;return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(C.A,{seotitle:localStorage.getItem("cartPageTitle"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),(this.state.loading||this.state.process_distance_calc_loading||this.state.process_cart_loading)&&(0,c.jsx)("div",{className:"height-100 overlay-loading ongoing-payment-spin",children:(0,c.jsx)("div",{className:"spin-load"})}),!this.state.loading&&(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(o.A,{boxshadow:!0,has_title:!0,title:localStorage.getItem("cartPageTitle"),disable_search:!0,homeButton:!0}),t.length?(0,c.jsxs)(s.Fragment,{children:["<p><br></p>"!==localStorage.getItem("customCartMessage")&&"null"!==localStorage.getItem("customCartMessage")&&""!==localStorage.getItem("customCartMessage")&&(0,c.jsx)("div",{style:{position:"relative",paddingTop:"4rem",marginBottom:"-3rem"},dangerouslySetInnerHTML:{__html:localStorage.getItem("customCartMessage")}}),(0,c.jsx)(M,{restaurant:a}),r.success&&1===parseInt(a.is_schedulable)&&1===parseInt(a.accept_scheduled_orders)&&"true"===localStorage.getItem("enableOrderSchedulingOnCustomer")&&null!==a.schedule_data&&this.state.is_active&&(0,c.jsx)(q,{restaurant:a}),(0,c.jsxs)("div",{className:"p-15",children:[(0,c.jsxs)("div",{className:"block-content block-content-full bg-white pt-10 pb-5",style:{borderTopLeftRadius:"5px",borderTopRightRadius:"5px"},children:[(0,c.jsx)("h2",{className:"item-text mb-10",children:localStorage.getItem("cartItemsInCartText")}),t.map(((e,t)=>(0,c.jsx)(b,{item:e,addProductQuantity:this.addProductQuantity,removeProductQuantity:this.removeProductQuantity,removeProduct:this.removeProduct},e.name+e.id+t)))]}),(0,c.jsx)(F,{})]}),(this.state.tipsAmountSetting||this.state.tipsPercentageSetting)&&(0,c.jsx)("div",{className:"mx-15 mb-15 tips-block",children:this.state.tips&&!1===this.state.is_tips_show&&(0,c.jsxs)("div",{className:"block-content block-content-full bg-white pt-10 pb-5",children:[(0,c.jsxs)("div",{className:this.state.tipsAmountSetting||this.state.tipsPercentageSetting?"d-show":"d-none",children:[(0,c.jsx)("p",{className:"item-text mb-10",children:(0,c.jsx)("strong",{children:localStorage.getItem("tipsForDeliveryText")})}),(0,c.jsxs)("p",{children:[" ",localStorage.getItem("tipsThanksText"),"."]})]}),this.state.tipsAmountSetting&&(0,c.jsxs)("div",{className:"tip-switch-field",children:[this.state.tips.map(((e,t)=>(0,c.jsxs)("div",{className:"tips",children:[(0,c.jsx)("input",{type:"radio",value:e,id:t,name:"switch-two",onClick:()=>this.addTip("amount",e)}),(0,c.jsxs)("label",{htmlFor:t,className:" ".concat(t>0&&"ml-5"),children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]},t))),(0,c.jsxs)("div",{className:"tips",children:[(0,c.jsx)("input",{type:"radio",value:"other",id:"others",name:"switch-two",onClick:e=>this.showOtherText("total")}),(0,c.jsx)("label",{htmlFor:"others",className:"ml-5",children:localStorage.getItem("tipsOtherText")})]})]}),this.state.others&&(0,c.jsx)("input",{className:"form-control custom-tip-input mb-15",name:"flatAmount",type:"text",placeholder:localStorage.getItem("cartTipAmountPlaceholderText"),value:this.state.flatAmount||"",onChange:this.restrictAlphabates,onKeyPress:this.restrictAlphabates,min:"0",max:"10000"}),this.state.tipsPercentageSetting&&(0,c.jsxs)("div",{className:"tip-switch-field",children:[this.state.tips_percentage.map(((e,t)=>(0,c.jsxs)("div",{className:"tips_percentage",children:[(0,c.jsx)("input",{type:"radio",value:e,id:"".concat(t,"_tips_percentage"),name:"switch-two",onClick:()=>this.addTipInPercentage("amount",e)}),(0,c.jsxs)("label",{htmlFor:"".concat(t,"_tips_percentage"),className:" ".concat(t>0&&"ml-5"),children:[" ",e,"%"]})]},t))),(0,c.jsxs)("div",{className:"tips",children:[(0,c.jsx)("input",{type:"radio",value:"percentage",id:"percentage",name:"switch-two",onClick:()=>this.showOtherText("percentage")}),(0,c.jsx)("label",{htmlFor:"percentage",className:"ml-5",children:localStorage.getItem("tipsOtherText")})]})]}),this.state.percentage&&(0,c.jsx)("input",{className:"form-control custom-tip-input mb-15",name:"percentageValue",type:"text",placeholder:localStorage.getItem("cartTipPercentagePlaceholderText"),value:this.state.percentageValue||"",onChange:this.restrictAlphabates,onKeyPress:this.restrictAlphabates,min:"0",max:"100"})]})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(_,{subtotal:this.props.cartTotal.totalPrice}),this.state.alreadyRunningOrders&&(0,c.jsx)("div",{className:"px-15",children:(0,c.jsx)("div",{className:"auth-error ongoing-order-notify",children:(0,c.jsxs)(I.A,{to:"/my-orders",delay:250,className:"ml-2",children:[localStorage.getItem("ongoingOrderMsg")," ",(0,c.jsx)("i",{className:"si si-arrow-right ml-1",style:{fontSize:"0.7rem"}}),(0,c.jsx)(u(),{duration:"500"})]})})})]}),Object.keys(this.props.restaurant_info).length>0&&(0,c.jsx)("div",{children:(0,c.jsx)(g,{total:e.totalPrice,distance:this.state.distance,alreadyRunningOrders:this.state.alreadyRunningOrders,tips:this.state.selectedTips,removeTip:this.removeTip})}),this.state.is_operational_loading?(0,c.jsx)(Y.A,{}):(0,c.jsx)(s.Fragment,{children:this.state.is_active?(0,c.jsx)(s.Fragment,{children:this.state.min_order_satisfied?(0,c.jsx)(s.Fragment,{children:this.state.is_all_items_available&&(0,c.jsx)(v,{restaurant_id:this.props.restaurant_info.id,cart_page:this.context.router.route.location.pathname,is_operational_loading:this.state.is_operational_loading,is_operational:this.state.is_operational,handleProcessCartLoading:this.handleProcessCartLoading,checkForItemsAvailability:this.checkForItemsAvailability,handleItemsAvailability:this.handleItemsAvailability})}):(0,c.jsx)("div",{className:"auth-error no-click",children:(0,c.jsxs)("div",{className:"error-shake",children:[localStorage.getItem("restaurantMinOrderMessage")," ","left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.restaurant_info.min_order_price,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})})}):(0,c.jsx)("div",{className:"auth-error no-click",children:(0,c.jsxs)("div",{className:"error-shake",children:[this.props.restaurant_info&&this.props.restaurant_info.name," :"," ",localStorage.getItem("notAcceptingOrdersMsg")]})})})]}):(0,c.jsxs)("div",{className:"bg-white cart-empty-block",children:[(0,c.jsx)(W(),{children:(0,c.jsx)("div",{className:"d-flex justify-content-center",children:(0,c.jsx)("img",{className:"cart-empty-img",src:"/assets/img/various/cart-empty.png",alt:localStorage.getItem("cartEmptyText")})})}),(0,c.jsx)("h2",{className:"cart-empty-text mt-50 text-center",children:localStorage.getItem("cartEmptyText")}),this.state.alreadyRunningOrders&&(0,c.jsx)("div",{className:"auth-error ongoing-order-notify",style:{position:"fixed",bottom:"4.5rem"},children:(0,c.jsxs)(I.A,{to:"/my-orders",delay:250,className:"ml-2",children:[localStorage.getItem("ongoingOrderMsg")," ",(0,c.jsx)("i",{className:"si si-arrow-right ml-1",style:{fontSize:"0.7rem"}}),(0,c.jsx)(u(),{duration:"500"})]})}),(0,c.jsx)(N.A,{active_cart:!0})]})]})]})}}z.contextTypes={router:()=>null};const Q=(0,B.GoogleApiWrapper)({apiKey:localStorage.getItem("googleApiKey"),LoadingContainer:Y.A})((0,l.Ng)((e=>({restaurant_info:e.items.restaurant_info,cartProducts:e.cart.products,cartTotal:e.total.data,user:e.user.user,running_order:e.user.running_order,restaurant:e.restaurant,coupon:e.coupon.coupon,force_reload:e.helper.force_reload,tips:e.tips,tips_percentage:e.tips_percentage,confirmCart:e.confirmCart.confirmCart})),{checkUserRunningOrder:r.l_,updateCart:S.i,getRestaurantInfoById:E.OU,updateUserInfo:r.bu,addProduct:y.Bj,checkCartItemsAvailability:m.g,checkBan:r.MD,getRestaurantInfoAndOperationalStatus:E.fR,removeCoupon:n.TY})(z))},5664:(e,t,a)=>{a.d(t,{A:()=>p});var s=a(9950),r=a(1580),o=a.n(r),l=a(413),i=a.n(l),n=a(4414);class c extends s.Component{constructor(){super(...arguments),this.state={shareButton:!1,androidShareButton:!1},this.shareLink=e=>{navigator.share&&navigator.share({url:e.link}).then((()=>console.log("Successful share"))).catch((e=>console.log("Error sharing",e)))},this.shareLinkViaAndroidApp=e=>{"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.shareDataThroughIntent(e.link)}}componentDidMount(){navigator.share&&this.setState({shareButton:!0}),"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&this.setState({shareButton:!1,androidShareButton:!0})}render(){return(0,n.jsxs)(s.Fragment,{children:[this.state.shareButton&&(0,n.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:()=>this.shareLink(this.props),children:[(0,n.jsx)("i",{className:"si si-share"}),(0,n.jsx)(o(),{duration:"500"})]}),this.state.androidShareButton&&(0,n.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:()=>this.shareLinkViaAndroidApp(this.props),children:[(0,n.jsx)("i",{className:"si si-share"}),(0,n.jsx)(o(),{duration:"500"})]})]})}}const d=c;class g extends s.Component{render(){return(0,n.jsx)(s.Fragment,{children:(0,n.jsx)("div",{className:"col-12 p-0 fixed",style:{zIndex:"9"},children:(0,n.jsx)("div",{className:"block m-0",children:(0,n.jsx)("div",{className:"block-content p-0 ".concat(this.props.dark&&"nav-dark"),children:(0,n.jsxs)("div",{className:"input-group ".concat(this.props.boxshadow&&"search-box"),children:[!this.props.disable_back_button&&(0,n.jsxs)("div",{className:"input-group-prepend",children:[this.props.back_to_home&&(0,n.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/")}),200)},children:[(0,n.jsx)("i",{className:"si si-arrow-left"}),(0,n.jsx)(o(),{duration:"500"})]}),this.props.goto_orders_page&&(0,n.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/my-orders")}),200)},children:[(0,n.jsx)("i",{className:"si si-arrow-left"}),(0,n.jsx)(o(),{duration:"500"})]}),this.props.goto_accounts_page&&(0,n.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/my-account")}),200)},children:[(0,n.jsx)("i",{className:"si si-arrow-left"}),(0,n.jsx)(o(),{duration:"500"})]}),!this.props.back_to_home&&!this.props.goto_orders_page&&!this.props.goto_accounts_page&&(0,n.jsxs)("button",{type:"button",className:"btn search-navs-btns ".concat(this.props.dark&&"nav-dark"),style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.goBack()}),200)},children:[(0,n.jsx)("i",{className:"si si-arrow-left"}),(0,n.jsx)(o(),{duration:"500"})]})]}),(0,n.jsxs)("p",{className:"form-control search-input d-flex align-items-center ".concat(this.props.dark&&"nav-dark"),children:[this.props.logo&&(0,n.jsx)("img",{src:"/assets/img/logos/logo.png",alt:localStorage.getItem("storeName"),width:"120"}),this.props.has_title?(0,n.jsx)(s.Fragment,{children:this.props.from_checkout?(0,n.jsxs)("span",{className:"nav-page-title",id:"checkoutNavPageTitle",children:[localStorage.getItem("cartToPayText")," ",(0,n.jsxs)("span",{style:{color:localStorage.getItem("storeColor")},children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.title,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]}):(0,n.jsx)("span",{className:"nav-page-title",children:this.props.title})}):null,this.props.has_delivery_icon&&(0,n.jsx)(i(),{left:!0,children:(0,n.jsx)("img",{src:"/assets/img/various/delivery-bike.png",alt:this.props.title,className:"nav-page-title"})})]}),this.props.has_restaurant_info?(0,n.jsxs)("div",{className:"fixed-restaurant-info hidden",ref:e=>{this.heading=e},children:[(0,n.jsx)("span",{className:"font-w700 fixedRestaurantName",children:this.props.restaurant.name}),(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:"font-w400 fixedRestaurantTime",children:[(0,n.jsx)("i",{className:"si si-clock"})," ",this.props.restaurant.delivery_time," ",localStorage.getItem("homePageMinsText")]})]}):null,(0,n.jsxs)("div",{className:"input-group-append",children:[!this.props.disable_search&&(0,n.jsxs)("button",{type:"submit",className:"btn search-navs-btns",style:{position:"relative"},children:[(0,n.jsx)("i",{className:"si si-magnifier"}),(0,n.jsx)(o(),{duration:"500"})]}),this.props.homeButton&&(0,n.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-home-btn",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/")}),200)},children:[(0,n.jsx)("i",{className:"si si-home"}),(0,n.jsx)(o(),{duration:"500"})]}),this.props.shareButton&&(0,n.jsx)(d,{link:window.location.href})]})]})})})})})}}g.contextTypes={router:()=>null};const p=g},9107:(e,t,a)=>{a.d(t,{g:()=>s});const s=(e,t,a,s)=>{function r(e){return e*Math.PI/180}let o=r(s-t),l=r(a-e),i=Math.sin(o/2)*Math.sin(o/2)+Math.cos(r(t))*Math.cos(r(s))*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))}},2576:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(9107);const r=(e,t,a,r,o,l)=>{const i=[{lat:parseFloat(t),lng:parseFloat(e)}],n=[{lat:parseFloat(r),lng:parseFloat(a)}],c=o.maps.TravelMode.DRIVING;(new o.maps.DistanceMatrixService).getDistanceMatrix({origins:i,destinations:n,travelMode:c},((o,i)=>{if(console.log("RESPONSE",o),console.log("STATUS",o.rows[0].elements[0].status),"OK"===o.rows[0].elements[0].status){let e=(o.rows[0].elements[0].distance.value/1e3).toFixed(1);l(e)}else{console.log("Falling back to basic distance calculation");let o=(0,s.g)(e,t,a,r);l(o)}}))}},756:(e,t,a)=>{a.d(t,{$:()=>s});const s=e=>{if(e){let t=parseFloat(e);return t=t.toFixed(2),t}return 0}},8566:(e,t,a)=>{a.d(t,{Bb:()=>r,Bj:()=>o,qY:()=>l});var s=a(8942);const r=e=>({type:s.y4,payload:e}),o=e=>({type:s.If,payload:e}),l=e=>t=>t({type:s.Fu,payload:e})},4520:(e,t,a)=>{a.d(t,{w:()=>n});var s=a(5931),r=a(1753),o=a(4122),l=a(8469),i=a(2780);const n=(e,t,a,n,c,d,g,p,u,m,h,y,S,x)=>(v,f)=>l.A.post(r.HD,{token:e.data.auth_token,user:e,order:t,coupon:a,location:n,order_comment:c,total:d,method:g,payment_token:p,delivery_type:u,partial_wallet:m,dis:h,pending_payment:y,tipAmount:S,cash_change_amount:x,schedule_date:null!==localStorage.getItem("orderDate")?JSON.parse(localStorage.getItem("orderDate")):null,schedule_slot:null!==localStorage.getItem("orderSlot")?JSON.parse(localStorage.getItem("orderSlot")):null}).then((e=>{const t=e.data;if(console.log("From Checkout"),!t.success)return t;{v({type:s.D,payload:t});const e=f().cart.products;localStorage.removeItem("orderComment"),localStorage.removeItem("orderSlot"),localStorage.removeItem("orderDate");for(let t=e.length-1;t>=0;t--)e.splice(t,1);v((0,i.i)(e)),localStorage.removeItem("appliedCoupon");const a=[];v({type:o.A,payload:a})}})).catch((function(e){return e.response}))},6088:(e,t,a)=>{a.d(t,{g:()=>i,v:()=>l});var s=a(5048),r=a(1753),o=a(8469);const l=()=>e=>e({type:s.K,payload:!0}),i=e=>t=>o.A.post(r.DM,{items:e}).then((e=>e.data)).catch((function(e){console.log(e)}))},7810:(e,t,a)=>{a.d(t,{CW:()=>n,TY:()=>i,VY:()=>l});var s=a(4122),r=a(1753),o=a(8469);const l=(e,t,a,l)=>i=>o.A.post(r.QV,{token:e,coupon:t,restaurant_id:a,subtotal:l}).then((e=>{const t=e.data;return[i({type:s.A,payload:t}),i({type:s.O,payload:null})]})).catch((function(e){if(console.log(e),401===e.response.status)return i({type:s.O,payload:"NOTLOGGEDIN"})})),i=()=>e=>{console.log("Triggred Coupon Removed");return e({type:s.A,payload:{hideMessage:!0,coupon_error:""}})},n=(e,t)=>a=>(e.appliedAmount=t,a({type:s.A,payload:e}))},2780:(e,t,a)=>{a.d(t,{i:()=>o});var s=a(9500),r=a(756);const o=e=>t=>{let a={productQuantity:e.reduce(((e,t)=>++e),0),totalPrice:e.reduce(((e,t)=>{let a=0;return t.selectedaddons&&t.selectedaddons.map((e=>(a+=parseFloat(e.price),a))),e+=t.price*t.quantity+a*t.quantity,e=parseFloat(e),(0,r.$)(e),e}),0)};t({type:s.t,payload:a})}},413:(e,t,a)=>{function s(e,t){var a=t.left,s=t.right,r=t.mirror,o=t.opposite,l=(a?1:0)|(s?2:0)|(r?16:0)|(o?32:0)|(e?64:0);if(g.hasOwnProperty(l))return g[l];if(!r!=!(e&&o)){var i=[s,a];a=i[0],s=i[1]}var n=a?"-100%":s?"100%":"0",d=e?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+n+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+n+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return g[l]=(0,c.animation)(d),g[l]}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,a=(e.out,e.forever),r=e.timeout,o=e.duration,l=void 0===o?c.defaults.duration:o,n=e.delay,d=void 0===n?c.defaults.delay:n,g=e.count,p=void 0===g?c.defaults.count:g,u=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["children","out","forever","timeout","duration","delay","count"]),m={make:s,duration:void 0===r?l:r,delay:d,forever:a,count:p,style:{animationFillMode:"both"}};return u.left,u.right,u.mirror,u.opposite,(0,i.default)(u,m,m,t)}Object.defineProperty(t,"__esModule",{value:!0});var o,l=a(7374),i=(o=l)&&o.__esModule?o:{default:o},n=a(1942),c=a(7244),d={out:n.bool,left:n.bool,right:n.bool,mirror:n.bool,opposite:n.bool,duration:n.number,timeout:n.number,delay:n.number,count:n.number,forever:n.bool},g={};r.propTypes=d,t.default=r,e.exports=t.default},4385:(e,t,a)=>{function s(e,t){var a=t.left,s=t.right,r=t.up,o=t.down,l=t.top,i=t.bottom,n=t.big,d=t.mirror,p=t.opposite,u=(a?1:0)|(s?2:0)|(l||o?4:0)|(i||r?8:0)|(d?16:0)|(p?32:0)|(e?64:0)|(n?128:0);if(g.hasOwnProperty(u))return g[u];var m=a||s||r||o||l||i,h=void 0,y=void 0;if(m){if(!d!=!(e&&p)){var S=[s,a,i,l,o,r];a=S[0],s=S[1],l=S[2],i=S[3],r=S[4],o=S[5]}var x=n?"2000px":"100%";h=a?"-"+x:s?x:"0",y=o||l?"-"+x:r||i?x:"0"}return g[u]=(0,c.animation)((e?"to":"from")+" {"+(m?" transform: translate3d("+h+", "+y+", 0);":"")+"}\n     "+(e?"from":"to")+" {transform: none;} "),g[u]}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,a=(e.out,e.forever),r=e.timeout,o=e.duration,l=void 0===o?c.defaults.duration:o,i=e.delay,d=void 0===i?c.defaults.delay:i,g=e.count,p=void 0===g?c.defaults.count:g,u=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["children","out","forever","timeout","duration","delay","count"]),m={make:s,duration:void 0===r?l:r,delay:d,forever:a,count:p,style:{animationFillMode:"both"},reverse:u.left};return(0,n.default)(u,m,m,t)}Object.defineProperty(t,"__esModule",{value:!0});var o,l=a(1942),i=a(7374),n=(o=i)&&o.__esModule?o:{default:o},c=a(7244),d={out:l.bool,left:l.bool,right:l.bool,top:l.bool,bottom:l.bool,big:l.bool,mirror:l.bool,opposite:l.bool,duration:l.number,timeout:l.number,delay:l.number,count:l.number,forever:l.bool},g={};r.propTypes=d,t.default=r,e.exports=t.default},8482:(e,t,a)=>{function s(){return p||(p=(0,c.animation)(g))}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,a=(e.out,e.timeout),r=e.duration,o=void 0===r?c.defaults.duration:r,l=e.delay,i=void 0===l?c.defaults.delay:l,d=e.count,g=void 0===d?c.defaults.count:d,p=e.forever,u=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["children","out","timeout","duration","delay","count","forever"]),m={make:s,duration:void 0===a?o:a,delay:i,forever:p,count:g,style:{animationFillMode:"both"}};return(0,n.default)(u,m,!1,t,!0)}Object.defineProperty(t,"__esModule",{value:!0});var o,l=a(1942),i=a(7374),n=(o=i)&&o.__esModule?o:{default:o},c=a(7244),d={duration:l.number,timeout:l.number,delay:l.number,count:l.number,forever:l.bool},g="\n  20% {\n    transform: rotate3d(0, 0, 1, 15deg);\n  }\n\n  40% {\n    transform: rotate3d(0, 0, 1, -10deg);\n  }\n\n  60% {\n    transform: rotate3d(0, 0, 1, 5deg);\n  }\n\n  80% {\n    transform: rotate3d(0, 0, 1, -5deg);\n  }\n\n  to {\n    transform: rotate3d(0, 0, 1, 0deg);\n}\n",p=!1;r.propTypes=d,t.default=r,e.exports=t.default}}]);