"use strict";(self.webpackChunksommelier=self.webpackChunksommelier||[]).push([[386],{416:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(9950),r=a(3099),n=a(8566),i=a(9666),o=a(7844),l=a(480),c=a.n(l),d=a(6598),g=a(1580),m=a.n(g),u=a(2213),h=a(3939),p=a(8429),x=a(1068),y=a(8341),f=a(8858),j=a(513),b=a(9085),v=a(4414);class S extends s.Component{constructor(){super(...arguments),this.state={update:!0,is_active:1,loading:!0,item_loading:!0},this.forceStateUpdate=()=>{setTimeout((()=>{this.forceUpdate(),this.state.update?this.setState({update:!1}):this.setState({update:!0})}),100)}}componentDidMount(){this.props.getSettings(),this.props.getAllLanguages();const{user:e}=this.props;e.success?this.props.getRestaurantInfoForLoggedInUser(this.props.restaurant):this.props.getRestaurantInfo(this.props.restaurant),this.props.getSingleItem(this.props.itemId).then((e=>{e&&e.payload.id&&this.setState({item_loading:!1})}))}componentWillReceiveProps(e){if("undefined"===e.restaurant_info.is_active&&this.setState({loading:!0}),1!==e.restaurant_info.is_active&&0!==e.restaurant_info.is_active||(this.setState({loading:!1}),this.setState({is_active:e.restaurant_info.is_active})),this.state.is_active||document.getElementsByTagName("html")[0].classList.add("page-inactive"),this.props.languages!==e.languages)if(localStorage.getItem("userPreferedLanguage"))this.props.getSingleLanguageData(localStorage.getItem("userPreferedLanguage"));else if(e.languages.length){const t=e.languages.filter((e=>1===e.is_default))[0].id;this.props.getSingleLanguageData(t)}}componentWillUnmount(){document.getElementsByTagName("html")[0].classList.remove("page-inactive")}render(){if(window.innerWidth>768)return(0,v.jsx)(p.C5,{to:"/"});const{addProduct:e,removeProduct:t,cartProducts:a,single_item:r}=this.props;return(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(x.A,{history:this.props.history,restaurant:this.props.restaurant_info,withLinkToRestaurant:!0}),r.id&&(0,v.jsxs)("div",{className:"single-item px-15 mt-20 pb-100",children:[(0,v.jsx)("span",{className:"hidden",children:r.quantity=1}),(0,v.jsx)("div",{className:"category-list-item single-item-img",style:{display:"flex",justifyContent:"space-between"},children:this.state.item_loading?(0,v.jsxs)(f.Ay,{height:400,width:window.innerWidth,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb",children:[(0,v.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:window.innerWidth,height:"290"}),(0,v.jsx)("rect",{x:"0",y:"300",rx:"0",ry:"0",width:"115",height:"20"}),(0,v.jsx)("rect",{x:"0",y:"325",rx:"0",ry:"0",width:"75",height:"16"}),(0,v.jsx)("rect",{x:window.innerWidth-100,y:"300",rx:"4",ry:"4",width:"115",height:"35"}),(0,v.jsx)("rect",{x:window.innerWidth-50,y:"300",rx:"4",ry:"4",width:"115",height:"35"})]}):(0,v.jsxs)(s.Fragment,{children:[""!==r.image&&(0,v.jsxs)(h.Ay,{children:[(0,v.jsx)("img",{src:r.image,alt:r.name,style:{width:"100%",height:"auto"}}),(0,v.jsx)(s.Fragment,{children:void 0!==a.find((e=>e.id===r.id))&&(0,v.jsx)(c(),{duration:150,children:(0,v.jsx)("div",{className:"quantity-badge-list",style:{backgroundColor:localStorage.getItem("storeColor")},children:(0,v.jsx)("span",{children:r.addon_categories.length?(0,v.jsx)(s.Fragment,{children:(0,v.jsx)("i",{className:"si si-check",style:{lineHeight:"1.3rem"}})}):(0,v.jsx)(s.Fragment,{children:a.find((e=>e.id===r.id)).quantity})})})})})]}),(0,v.jsxs)("div",{className:"single-item-meta",children:[(0,v.jsx)("div",{className:"item-actions pull-right pb-0 mt-2",children:(0,v.jsx)("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"btnGroupIcons1",children:r.is_active?(0,v.jsxs)(s.Fragment,{children:[r.addon_categories.length?(0,v.jsxs)("button",{disabled:!0,type:"button",className:"btn btn-add-remove mr-2",style:{color:localStorage.getItem("cartColor-bg")},children:[(0,v.jsx)("span",{className:"btn-dec",children:"-"}),(0,v.jsx)(m(),{duration:"500"})]}):(0,v.jsxs)("button",{type:"button",className:"btn btn-add-remove mr-2",style:{color:localStorage.getItem("cartColor-bg")},onClick:()=>{r.quantity=1,t(r),this.forceStateUpdate()},children:[(0,v.jsx)("span",{className:"btn-dec",children:"-"}),(0,v.jsx)(m(),{duration:"500"})]}),r.addon_categories.length?(0,v.jsx)(o.A,{product:r,addProduct:e,forceUpdate:this.forceStateUpdate}):(0,v.jsxs)("button",{type:"button",className:"btn btn-add-remove",style:{color:localStorage.getItem("cartColor-bg")},onClick:()=>{e(r),this.forceStateUpdate()},children:[(0,v.jsx)("span",{className:"btn-inc",children:"+"}),(0,v.jsx)(m(),{duration:"500"})]})]}):(0,v.jsx)("div",{className:"text-danger text-item-not-available",children:localStorage.getItem("cartItemNotAvailable")})})}),(0,v.jsxs)("div",{className:"item-name font-w600 mt-2",children:["true"===localStorage.getItem("showVegNonVegBadge")&&null!==r.is_veg&&(0,v.jsx)(s.Fragment,{children:r.is_veg?(0,v.jsx)("img",{src:"/assets/img/various/veg-icon-bg.png",alt:"Veg",style:{width:"1rem"},className:"mr-1"}):(0,v.jsx)("img",{src:"/assets/img/various/non-veg-icon-bg.png",alt:"Non-Veg",style:{width:"1rem"},className:"mr-1"})}),r.name]}),(0,v.jsxs)("div",{className:"item-price",children:["true"===localStorage.getItem("hidePriceWhenZero")&&"0.00"===r.price?null:(0,v.jsxs)(s.Fragment,{children:[r.old_price>0&&(0,v.jsxs)("span",{className:"strike-text mr-1",children:[" ","left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")," ",r.old_price,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]}),(0,v.jsxs)("span",{children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")," ",r.price,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]}),r.old_price>0&&"true"===localStorage.getItem("showPercentageDiscount")&&(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)("span",{className:"price-percentage-discount mb-0 ml-1",style:{color:localStorage.getItem("cartColorBg")},children:[parseFloat((parseFloat(r.old_price)-parseFloat(r.price))/parseFloat(r.old_price)*100).toFixed(0),localStorage.getItem("itemPercentageDiscountText")]})})]}),r.addon_categories.length>0&&(0,v.jsx)("span",{className:"ml-2 customizable-item-text",style:{color:localStorage.getItem("storeColor")},children:localStorage.getItem("customizableItemText")})]}),(0,v.jsx)(u.A,{item:r}),null!==r.desc?(0,v.jsx)("div",{className:"mt-2 mb-100",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:r.desc}})}):(0,v.jsx)("br",{})]})]})})]}),!this.state.loading&&(0,v.jsx)(s.Fragment,{children:this.state.is_active?(0,v.jsx)(d.A,{}):(0,v.jsx)("div",{className:"auth-error no-click",children:(0,v.jsx)("div",{className:"error-shake",children:localStorage.getItem("notAcceptingOrdersMsg")})})})]})}}const I=(0,y.Ng)((e=>({restaurant_info:e.items.restaurant_info,cartProducts:e.cart.products,single_item:e.items.single_item,settings:e.settings.settings,languages:e.languages.languages,language:e.languages.language,user:e.user.user})),{getRestaurantInfo:i.gX,getRestaurantItems:i.K,resetItems:i.A7,resetInfo:i.AF,getSingleItem:i.mc,addProduct:n.Bj,removeProduct:n.qY,getSettings:j.m,getAllLanguages:b.N,getSingleLanguageData:b.l,getRestaurantInfoForLoggedInUser:i.NA})(S);class _ extends s.Component{render(){return(0,v.jsx)(s.Fragment,{children:window.innerWidth>=768?(0,v.jsx)(r.A,{restaurant:this.props.match.params.restaurant,itemId:this.props.match.params.id}):(0,v.jsx)(I,{restaurant:this.props.match.params.restaurant,itemId:this.props.match.params.id,history:this.props.history})})}}const w=_},413:(e,t,a)=>{function s(e,t){var a=t.left,s=t.right,r=t.mirror,n=t.opposite,i=(a?1:0)|(s?2:0)|(r?16:0)|(n?32:0)|(e?64:0);if(g.hasOwnProperty(i))return g[i];if(!r!=!(e&&n)){var o=[s,a];a=o[0],s=o[1]}var l=a?"-100%":s?"100%":"0",d=e?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+l+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+l+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return g[i]=(0,c.animation)(d),g[i]}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,a=(e.out,e.forever),r=e.timeout,n=e.duration,i=void 0===n?c.defaults.duration:n,l=e.delay,d=void 0===l?c.defaults.delay:l,g=e.count,m=void 0===g?c.defaults.count:g,u=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["children","out","forever","timeout","duration","delay","count"]),h={make:s,duration:void 0===r?i:r,delay:d,forever:a,count:m,style:{animationFillMode:"both"}};return u.left,u.right,u.mirror,u.opposite,(0,o.default)(u,h,h,t)}Object.defineProperty(t,"__esModule",{value:!0});var n,i=a(7374),o=(n=i)&&n.__esModule?n:{default:n},l=a(1942),c=a(7244),d={out:l.bool,left:l.bool,right:l.bool,mirror:l.bool,opposite:l.bool,duration:l.number,timeout:l.number,delay:l.number,count:l.number,forever:l.bool},g={};r.propTypes=d,t.default=r,e.exports=t.default}}]);