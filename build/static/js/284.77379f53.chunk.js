"use strict";(self.webpackChunksommelier=self.webpackChunksommelier||[]).push([[284],{5664:(t,e,s)=>{s.d(e,{A:()=>u});var r=s(9950),a=s(1580),o=s.n(a),i=s(413),n=s.n(i),l=s(4414);class c extends r.Component{constructor(){super(...arguments),this.state={shareButton:!1,androidShareButton:!1},this.shareLink=t=>{navigator.share&&navigator.share({url:t.link}).then((()=>console.log("Successful share"))).catch((t=>console.log("Error sharing",t)))},this.shareLinkViaAndroidApp=t=>{"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.shareDataThroughIntent(t.link)}}componentDidMount(){navigator.share&&this.setState({shareButton:!0}),"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&this.setState({shareButton:!1,androidShareButton:!0})}render(){return(0,l.jsxs)(r.Fragment,{children:[this.state.shareButton&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:()=>this.shareLink(this.props),children:[(0,l.jsx)("i",{className:"si si-share"}),(0,l.jsx)(o(),{duration:"500"})]}),this.state.androidShareButton&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:()=>this.shareLinkViaAndroidApp(this.props),children:[(0,l.jsx)("i",{className:"si si-share"}),(0,l.jsx)(o(),{duration:"500"})]})]})}}const h=c;class d extends r.Component{render(){return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)("div",{className:"col-12 p-0 fixed",style:{zIndex:"9"},children:(0,l.jsx)("div",{className:"block m-0",children:(0,l.jsx)("div",{className:"block-content p-0 ".concat(this.props.dark&&"nav-dark"),children:(0,l.jsxs)("div",{className:"input-group ".concat(this.props.boxshadow&&"search-box"),children:[!this.props.disable_back_button&&(0,l.jsxs)("div",{className:"input-group-prepend",children:[this.props.back_to_home&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/")}),200)},children:[(0,l.jsx)("i",{className:"si si-arrow-left"}),(0,l.jsx)(o(),{duration:"500"})]}),this.props.goto_orders_page&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/my-orders")}),200)},children:[(0,l.jsx)("i",{className:"si si-arrow-left"}),(0,l.jsx)(o(),{duration:"500"})]}),this.props.goto_accounts_page&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/my-account")}),200)},children:[(0,l.jsx)("i",{className:"si si-arrow-left"}),(0,l.jsx)(o(),{duration:"500"})]}),!this.props.back_to_home&&!this.props.goto_orders_page&&!this.props.goto_accounts_page&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns ".concat(this.props.dark&&"nav-dark"),style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.goBack()}),200)},children:[(0,l.jsx)("i",{className:"si si-arrow-left"}),(0,l.jsx)(o(),{duration:"500"})]})]}),(0,l.jsxs)("p",{className:"form-control search-input d-flex align-items-center ".concat(this.props.dark&&"nav-dark"),children:[this.props.logo&&(0,l.jsx)("img",{src:"/assets/img/logos/logo.png",alt:localStorage.getItem("storeName"),width:"120"}),this.props.has_title?(0,l.jsx)(r.Fragment,{children:this.props.from_checkout?(0,l.jsxs)("span",{className:"nav-page-title",id:"checkoutNavPageTitle",children:[localStorage.getItem("cartToPayText")," ",(0,l.jsxs)("span",{style:{color:localStorage.getItem("storeColor")},children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.title,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]}):(0,l.jsx)("span",{className:"nav-page-title",children:this.props.title})}):null,this.props.has_delivery_icon&&(0,l.jsx)(n(),{left:!0,children:(0,l.jsx)("img",{src:"/assets/img/various/delivery-bike.png",alt:this.props.title,className:"nav-page-title"})})]}),this.props.has_restaurant_info?(0,l.jsxs)("div",{className:"fixed-restaurant-info hidden",ref:t=>{this.heading=t},children:[(0,l.jsx)("span",{className:"font-w700 fixedRestaurantName",children:this.props.restaurant.name}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"font-w400 fixedRestaurantTime",children:[(0,l.jsx)("i",{className:"si si-clock"})," ",this.props.restaurant.delivery_time," ",localStorage.getItem("homePageMinsText")]})]}):null,(0,l.jsxs)("div",{className:"input-group-append",children:[!this.props.disable_search&&(0,l.jsxs)("button",{type:"submit",className:"btn search-navs-btns",style:{position:"relative"},children:[(0,l.jsx)("i",{className:"si si-magnifier"}),(0,l.jsx)(o(),{duration:"500"})]}),this.props.homeButton&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-home-btn",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/")}),200)},children:[(0,l.jsx)("i",{className:"si si-home"}),(0,l.jsx)(o(),{duration:"500"})]}),this.props.shareButton&&(0,l.jsx)(h,{link:window.location.href})]})]})})})})})}}d.contextTypes={router:()=>null};const u=d},1068:(t,e,s)=>{s.d(e,{A:()=>d});var r=s(9950),a=s(5664),o=s(8858),i=s(2074),n=s(8341),l=s(9666),c=s(4414);class h extends r.Component{constructor(){super(...arguments),this.state={withLinkToRestaurant:!1,isFavorite:!1},this.fixedRestaurantInfo=t=>{this.child&&(t?this.child.heading.classList.add("hidden"):this.child.heading.classList.remove("hidden"))},this.scrollFunc=()=>{if(document.documentElement.scrollTop>55){let t=!1;this.fixedRestaurantInfo(t)}if(document.documentElement.scrollTop<55){let t=!0;this.fixedRestaurantInfo(t)}},this.setFavoriteRestaurant=()=>{const{restaurant_info:t,user:e}=this.props;e.success&&(t.is_favorited?this.refs.heartIcon.classList.remove("is-active"):this.refs.heartIcon.classList.add("is-active"),this.props.setFavoriteRest(e.data.auth_token,t.id))}}componentDidMount(){this.setState({withLinkToRestaurant:this.props.withLinkToRestaurant}),this.props.history.location.state&&this.props.history.location.state.fromExplorePage&&this.setState({withLinkToRestaurant:this.props.history.location.state.fromExplorePage}),this.registerScrollEvent()}componentWillUnmount(){this.removeScrollEvent()}registerScrollEvent(){window.addEventListener("scroll",this.scrollFunc)}removeScrollEvent(){window.removeEventListener("scroll",this.scrollFunc)}static getDerivedStateFromProps(t,e){return t.restaurant_info!==e.restaurant_info?{data:t.restaurant_info}:null}render(){const{history:t,restaurant:e,user:s}=this.props;return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsxs)("div",{className:"bg-white",children:[(0,c.jsx)(a.A,{ref:t=>{this.child=t},history:t,boxshadow:!1,has_restaurant_info:!0,restaurant:e,disable_search:!0,homeButton:!0,shareButton:!0}),0===e.length?(0,c.jsxs)(o.Ay,{height:170,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb",children:[(0,c.jsx)("rect",{x:"20",y:"70",rx:"4",ry:"4",width:"80",height:"78"}),(0,c.jsx)("rect",{x:"144",y:"85",rx:"0",ry:"0",width:"115",height:"18"}),(0,c.jsx)("rect",{x:"144",y:"115",rx:"0",ry:"0",width:"165",height:"16"})]}):(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.N_,{to:"../../stores/"+e.slug,className:"store-info-itemspage ".concat(this.state.withLinkToRestaurant?"":"no-click"),children:(0,c.jsxs)("div",{className:"d-flex pt-50",children:[(0,c.jsx)("div",{className:"px-15 mt-5",children:(0,c.jsx)("img",{src:e.image,alt:e.name,className:"restaurant-image mt-0"})}),(0,c.jsxs)("div",{className:"mt-5 pb-15 w-100",children:[(0,c.jsx)("h4",{className:"font-w600 mb-5 text-dark",children:e.name}),(0,c.jsx)("div",{className:"font-size-sm text-muted truncate-text text-muted",children:e.description}),1===e.is_pureveg&&(0,c.jsxs)("p",{className:"mb-0",children:[(0,c.jsx)("span",{className:"font-size-sm pr-1 text-muted",children:localStorage.getItem("pureVegText")}),(0,c.jsx)("img",{src:"/assets/img/various/pure-veg.png",alt:"PureVeg",style:{width:"20px"}})]}),(0,c.jsxs)("div",{className:"text-center restaurant-meta mt-5 d-flex align-items-center justify-content-between text-muted",children:["0"===e.avgRating?(0,c.jsxs)("div",{className:"col-2 p-0 text-left",children:[(0,c.jsx)("i",{className:"fa fa-star",style:{color:localStorage.getItem("storeColor")}})," ",e.rating]}):(0,c.jsx)(i.N_,{to:"/reviews/"+e.slug,style:{display:"contents"},className:"yes-click",children:(0,c.jsxs)("div",{className:"col-2 p-0 text-left store-rating-block",children:[(0,c.jsx)("i",{className:"fa fa-star",style:{color:localStorage.getItem("storeColor")}})," ",e.avgRating]})}),(0,c.jsxs)("div",{className:"col-4 p-0 text-center store-distance-block",children:[(0,c.jsx)("i",{className:"si si-clock"})," ",e.delivery_time," ",localStorage.getItem("homePageMinsText")]}),(0,c.jsxs)("div",{className:"col-6 p-0 text-center store-avgprice-block",children:[(0,c.jsx)("i",{className:"si si-wallet"})," ","left"===localStorage.getItem("currencySymbolAlign")&&(0,c.jsxs)(r.Fragment,{children:[localStorage.getItem("currencyFormat"),e.price_range," "]}),"right"===localStorage.getItem("currencySymbolAlign")&&(0,c.jsxs)(r.Fragment,{children:[e.price_range,localStorage.getItem("currencyFormat")," "]}),localStorage.getItem("homePageForTwoText")]})]})]})]})}),s.success&&(0,c.jsx)("span",{onClick:this.setFavoriteRestaurant,children:(0,c.jsx)("div",{ref:"heartIcon",className:"heart ".concat(e.is_favorited&&"is-active")})})]})]}),"<p><br></p>"!==e.custom_message&&"null"!==e.custom_message&&""!==e.custom_message&&(0,c.jsx)("div",{style:{position:"relative",background:"#fff"},dangerouslySetInnerHTML:{__html:e.custom_message}})]})}}const d=(0,n.Ng)((t=>({restaurant_info:t.items.restaurant_info,user:t.user.user})),{setFavoriteRest:l.Lt})(h)},5284:(t,e,s)=>{s.r(e),s.d(e,{default:()=>p});var r=s(9950),a=s(8341),o=s(2821),i=s(2515),n=s(5664),l=s(5136),c=s(1068),h=s(9666),d=s(4414);class u extends r.Component{constructor(){super(...arguments),this.state={loading:!0},this.getRatingStars=t=>{var e="rating-green";return t<=3&&(e="rating-orange"),t<=2&&(e="rating-red"),(0,d.jsxs)("span",{className:"store-rating "+e,children:[t," ",(0,d.jsx)("i",{className:"fa fa-star text-white"})]})}}componentDidMount(){const{user:t}=this.props;t.success?this.props.getRestaurantInfoForLoggedInUser(this.props.match.params.slug):this.props.getRestaurantInfo(this.props.match.params.slug),this.props.getReviewsForStore(this.props.match.params.slug).then((t=>{t&&this.setState({loading:!1})}))}render(){const{reviews:t,restaurant_info:e}=this.props;return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(i.A,{seotitle:localStorage.getItem("reviewsPageTitle"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),(0,d.jsx)(n.A,{boxshadow:!0,has_title:!0,title:localStorage.getItem("reviewsPageTitle"),disable_search:!0,homeButton:!0}),this.state.loading?(0,d.jsx)(l.A,{}):(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(c.A,{history:this.props.history,restaurant:e,withLinkToRestaurant:!0}),(0,d.jsx)("div",{className:"pt-20 px-15 height-100 bg-light",children:t.map((t=>(0,d.jsxs)("div",{className:"single-review",children:[(0,d.jsxs)("p",{className:"mb-0",children:[(0,d.jsx)("strong",{children:t.username})," ",(0,d.jsx)("span",{className:"ml-1",children:this.getRatingStars(t.rating_store)})]}),(0,d.jsx)("p",{className:"mb-2",children:t.review_store})]})))})]})]})}}u.contextTypes={router:()=>null};const p=(0,a.Ng)((t=>({reviews:t.rating.reviews,restaurant_info:t.items.restaurant_info,user:t.user.user})),{getReviewsForStore:o.yw,getRestaurantInfo:h.gX,getRestaurantInfoForLoggedInUser:h.NA})(u)},2821:(t,e,s)=>{s.d(e,{f1:()=>c,rZ:()=>l,yw:()=>n});var r=s(7597),a=s(582),o=s(1753),i=s(8469);const n=t=>e=>i.A.get(o.Vt+"/"+t).then((t=>{const s=t.data.restaurant,o=t.data.reviews;return[e({type:a.q_,payload:s}),e({type:r.hg,payload:o})]})).catch((function(t){console.log(t)})),l=t=>e=>i.A.post(o.Ac,{order_id:t.order_id,token:t.auth_token,rating_store:t.rating_store,rating_delivery:t.rating_delivery,review_store:t.review_store,review_delivery:t.review_delivery}).then((t=>{const s=t.data;return e({type:r.r8,payload:s})})).catch((function(t){console.log(t)})),c=(t,e)=>s=>{i.A.post(o.R3,{order_id:t,token:e}).then((t=>{const e=t.data;return s({type:r.Pv,payload:e})})).catch((function(t){console.log(t)}))}},413:(t,e,s)=>{function r(t,e){var s=e.left,r=e.right,a=e.mirror,o=e.opposite,i=(s?1:0)|(r?2:0)|(a?16:0)|(o?32:0)|(t?64:0);if(d.hasOwnProperty(i))return d[i];if(!a!=!(t&&o)){var n=[r,s];s=n[0],r=n[1]}var l=s?"-100%":r?"100%":"0",h=t?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+l+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+l+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return d[i]=(0,c.animation)(h),d[i]}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,e=t.children,s=(t.out,t.forever),a=t.timeout,o=t.duration,i=void 0===o?c.defaults.duration:o,l=t.delay,h=void 0===l?c.defaults.delay:l,d=t.count,u=void 0===d?c.defaults.count:d,p=function(t,e){var s={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r]);return s}(t,["children","out","forever","timeout","duration","delay","count"]),m={make:r,duration:void 0===a?i:a,delay:h,forever:s,count:u,style:{animationFillMode:"both"}};return p.left,p.right,p.mirror,p.opposite,(0,n.default)(p,m,m,e)}Object.defineProperty(e,"__esModule",{value:!0});var o,i=s(7374),n=(o=i)&&o.__esModule?o:{default:o},l=s(1942),c=s(7244),h={out:l.bool,left:l.bool,right:l.bool,mirror:l.bool,opposite:l.bool,duration:l.number,timeout:l.number,delay:l.number,count:l.number,forever:l.bool},d={};a.propTypes=h,e.default=a,t.exports=e.default}}]);