"use strict";(self.webpackChunksommelier=self.webpackChunksommelier||[]).push([[470],{4089:(t,e,s)=>{s.r(e),s.d(e,{default:()=>f});var o=s(9950),a=s(8429),r=s(8341),i=s(2515),n=s(5664),l=s(9097),c=s(7038),d=s.n(c),h=s(1580),m=s.n(h),u=s(4414);class p extends o.Component{render(){const{alert:t,handleNotificationClick:e}=this.props,s=JSON.parse(t.data);return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-md-12",children:(0,u.jsxs)("div",{className:"block block-link-shadow mb-3 ".concat(t.is_read&&"bg-grey"),style:{boxShadow:t.is_read?"0":"rgba(225, 225, 225, 0.34) 0px 1px 4px 1px",opacity:t.is_read?"0.8":"1",pointerEvents:t.is_read?"none":"auto",borderRadius:"3px",position:"relative"},onClick:()=>e(t),children:[s.custom_image&&(0,u.jsx)("img",{src:s.custom_image,className:"img-fluid mb-2",alt:s.title,style:{filter:t.is_read?"grayscale(0.9)":"none"}}),(0,u.jsxs)("div",{className:"block-content block-content-full clearfix py-2",children:[(0,u.jsx)("span",{className:"text-muted pull-right",style:{fontSize:"0.9rem"},children:"true"===localStorage.getItem("showFromNowDate")?(0,u.jsx)(d(),{fromNow:!0,children:t.created_at}):(0,u.jsx)(d(),{format:"DD/MM/YYYY hh:mma",children:t.created_at})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-w600 font-size-h4 mb-5 ".concat(t.is_read&&"text-muted"),children:s.title}),(0,u.jsxs)("div",{className:"font-size-sm text-muted",children:[s.is_wallet_alert&&"deposit"===s.transaction_type&&(0,u.jsx)("strong",{className:"text-success mr-2 font-size-sm",children:localStorage.getItem("walletDepositText")}),s.is_wallet_alert&&"withdraw"===s.transaction_type&&(0,u.jsx)("strong",{className:"text-danger mr-2 font-size-sm",children:localStorage.getItem("walletWithdrawText")}),s.message," "]}),!t.is_read&&(0,u.jsx)("div",{className:"alert-notify-bell",children:(0,u.jsx)("i",{className:"si si-bell",style:{color:localStorage.getItem("storeColor")}})})]})]}),(0,u.jsx)(m(),{duration:500,hasTouch:!1})]})})})})}}const g=p;var x=s(1776);class b extends o.Component{constructor(){super(...arguments),this.handleMarkAllRead=()=>{const{user:t}=this.props;t.success&&this.props.markAllNotificationsRead(t.data.id,t.data.auth_token)},this.handleNotificationClick=t=>{const{user:e}=this.props;console.log("Notification Clicked"),e.success&&this.props.markOneNotificationRead(e.data.id,t.id,e.data.auth_token).then((e=>{const s=JSON.parse(t.data),o=s.unique_order_id,a=s.custom_notification,r=s.click_action,i=s.is_wallet_alert;o&&(console.log("Order tracking notification"),this.context.router.history.push("/running-order/".concat(o))),a&&r&&(console.log("Custom Notification"),window.location.href=r),i&&this.context.router.history.push("/my-wallet")}))}}componentDidMount(){this.props.alerts.length&&document.getElementsByTagName("body")[0].classList.add("bg-grey-light");const{user:t}=this.props;null!==localStorage.getItem("storeColor")&&t.success&&this.props.getUserNotifications(t.data.id,t.data.auth_token)}componentWillUnmount(){document.getElementsByTagName("body")[0].classList.remove("bg-grey-light")}render(){if(window.innerWidth>768)return(0,u.jsx)(a.C5,{to:"/"});if(null===localStorage.getItem("storeColor"))return(0,u.jsx)(a.C5,{to:"/"});const{user:t,alerts:e}=this.props;return t.success?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(i.A,{seotitle:localStorage.getItem("footerAlerts"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),(0,u.jsx)(n.A,{boxshadow:!0,has_title:!0,title:localStorage.getItem("footerAlerts"),disable_search:!0}),(0,u.jsx)("div",{className:"block-content block-content-full mb-100",children:e.length?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("button",{className:"btn btn-sm btn-clear-alerts float-right mt-50 mb-3",style:{position:"relative"},onClick:this.handleMarkAllRead,children:[localStorage.getItem("markAllAlertReadText")," ",(0,u.jsx)("i",{className:"si si-check ml-1"}),(0,u.jsx)(m(),{duration:500,hasTouch:!0})]}),(0,u.jsx)("div",{className:"clearfix"}),e.map((t=>(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(g,{alert:t,handleNotificationClick:this.handleNotificationClick})},t.id)))]}):(0,u.jsxs)("div",{className:"text-center mt-50 font-w600 text-muted pt-100",children:[(0,u.jsx)("div",{className:"pb-10",children:(0,u.jsx)("i",{className:"si si-bell",style:{fontSize:"10rem",color:"#eee"}})}),(0,u.jsx)("p",{style:{color:"#ccc"},children:localStorage.getItem("noNewAlertsText")})]})}),(0,u.jsx)(l.A,{active_alerts:!0})]}):(0,u.jsx)(a.C5,{to:"/login"})}}b.contextTypes={router:()=>null};const f=(0,r.Ng)((t=>({user:t.user.user,alerts:t.alert.alerts})),{getUserNotifications:x.Ss,markAllNotificationsRead:x.t_,markOneNotificationRead:x.$u})(b)},5664:(t,e,s)=>{s.d(e,{A:()=>m});var o=s(9950),a=s(1580),r=s.n(a),i=s(413),n=s.n(i),l=s(4414);class c extends o.Component{constructor(){super(...arguments),this.state={shareButton:!1,androidShareButton:!1},this.shareLink=t=>{navigator.share&&navigator.share({url:t.link}).then((()=>console.log("Successful share"))).catch((t=>console.log("Error sharing",t)))},this.shareLinkViaAndroidApp=t=>{"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.shareDataThroughIntent(t.link)}}componentDidMount(){navigator.share&&this.setState({shareButton:!0}),"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&this.setState({shareButton:!1,androidShareButton:!0})}render(){return(0,l.jsxs)(o.Fragment,{children:[this.state.shareButton&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:()=>this.shareLink(this.props),children:[(0,l.jsx)("i",{className:"si si-share"}),(0,l.jsx)(r(),{duration:"500"})]}),this.state.androidShareButton&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:()=>this.shareLinkViaAndroidApp(this.props),children:[(0,l.jsx)("i",{className:"si si-share"}),(0,l.jsx)(r(),{duration:"500"})]})]})}}const d=c;class h extends o.Component{render(){return(0,l.jsx)(o.Fragment,{children:(0,l.jsx)("div",{className:"col-12 p-0 fixed",style:{zIndex:"9"},children:(0,l.jsx)("div",{className:"block m-0",children:(0,l.jsx)("div",{className:"block-content p-0 ".concat(this.props.dark&&"nav-dark"),children:(0,l.jsxs)("div",{className:"input-group ".concat(this.props.boxshadow&&"search-box"),children:[!this.props.disable_back_button&&(0,l.jsxs)("div",{className:"input-group-prepend",children:[this.props.back_to_home&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/")}),200)},children:[(0,l.jsx)("i",{className:"si si-arrow-left"}),(0,l.jsx)(r(),{duration:"500"})]}),this.props.goto_orders_page&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/my-orders")}),200)},children:[(0,l.jsx)("i",{className:"si si-arrow-left"}),(0,l.jsx)(r(),{duration:"500"})]}),this.props.goto_accounts_page&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/my-account")}),200)},children:[(0,l.jsx)("i",{className:"si si-arrow-left"}),(0,l.jsx)(r(),{duration:"500"})]}),!this.props.back_to_home&&!this.props.goto_orders_page&&!this.props.goto_accounts_page&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns ".concat(this.props.dark&&"nav-dark"),style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.goBack()}),200)},children:[(0,l.jsx)("i",{className:"si si-arrow-left"}),(0,l.jsx)(r(),{duration:"500"})]})]}),(0,l.jsxs)("p",{className:"form-control search-input d-flex align-items-center ".concat(this.props.dark&&"nav-dark"),children:[this.props.logo&&(0,l.jsx)("img",{src:"/assets/img/logos/logo.png",alt:localStorage.getItem("storeName"),width:"120"}),this.props.has_title?(0,l.jsx)(o.Fragment,{children:this.props.from_checkout?(0,l.jsxs)("span",{className:"nav-page-title",id:"checkoutNavPageTitle",children:[localStorage.getItem("cartToPayText")," ",(0,l.jsxs)("span",{style:{color:localStorage.getItem("storeColor")},children:["left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.title,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")]})]}):(0,l.jsx)("span",{className:"nav-page-title",children:this.props.title})}):null,this.props.has_delivery_icon&&(0,l.jsx)(n(),{left:!0,children:(0,l.jsx)("img",{src:"/assets/img/various/delivery-bike.png",alt:this.props.title,className:"nav-page-title"})})]}),this.props.has_restaurant_info?(0,l.jsxs)("div",{className:"fixed-restaurant-info hidden",ref:t=>{this.heading=t},children:[(0,l.jsx)("span",{className:"font-w700 fixedRestaurantName",children:this.props.restaurant.name}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"font-w400 fixedRestaurantTime",children:[(0,l.jsx)("i",{className:"si si-clock"})," ",this.props.restaurant.delivery_time," ",localStorage.getItem("homePageMinsText")]})]}):null,(0,l.jsxs)("div",{className:"input-group-append",children:[!this.props.disable_search&&(0,l.jsxs)("button",{type:"submit",className:"btn search-navs-btns",style:{position:"relative"},children:[(0,l.jsx)("i",{className:"si si-magnifier"}),(0,l.jsx)(r(),{duration:"500"})]}),this.props.homeButton&&(0,l.jsxs)("button",{type:"button",className:"btn search-navs-btns nav-home-btn",style:{position:"relative"},onClick:()=>{setTimeout((()=>{this.context.router.history.push("/")}),200)},children:[(0,l.jsx)("i",{className:"si si-home"}),(0,l.jsx)(r(),{duration:"500"})]}),this.props.shareButton&&(0,l.jsx)(d,{link:window.location.href})]})]})})})})})}}h.contextTypes={router:()=>null};const m=h},413:(t,e,s)=>{function o(t,e){var s=e.left,o=e.right,a=e.mirror,r=e.opposite,i=(s?1:0)|(o?2:0)|(a?16:0)|(r?32:0)|(t?64:0);if(h.hasOwnProperty(i))return h[i];if(!a!=!(t&&r)){var n=[o,s];s=n[0],o=n[1]}var l=s?"-100%":o?"100%":"0",d=t?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+l+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+l+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return h[i]=(0,c.animation)(d),h[i]}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,e=t.children,s=(t.out,t.forever),a=t.timeout,r=t.duration,i=void 0===r?c.defaults.duration:r,l=t.delay,d=void 0===l?c.defaults.delay:l,h=t.count,m=void 0===h?c.defaults.count:h,u=function(t,e){var s={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o]);return s}(t,["children","out","forever","timeout","duration","delay","count"]),p={make:o,duration:void 0===a?i:a,delay:d,forever:s,count:m,style:{animationFillMode:"both"}};return u.left,u.right,u.mirror,u.opposite,(0,n.default)(u,p,p,e)}Object.defineProperty(e,"__esModule",{value:!0});var r,i=s(7374),n=(r=i)&&r.__esModule?r:{default:r},l=s(1942),c=s(7244),d={out:l.bool,left:l.bool,right:l.bool,mirror:l.bool,opposite:l.bool,duration:l.number,timeout:l.number,delay:l.number,count:l.number,forever:l.bool},h={};a.propTypes=d,e.default=a,t.exports=e.default}}]);